<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>SoupSocket</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="index.html" title="libsoup Reference Manual">
<link rel="up" href="ch06.html" title="Low-level Networking API">
<link rel="prev" href="SoupAddress.html" title="SoupAddress">
<link rel="next" href="ix01.html" title="Index">
<meta name="generator" content="GTK-Doc V1.15 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="SoupAddress.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch06.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">libsoup Reference Manual</th>
<td><a accesskey="n" href="ix01.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#SoupSocket.synopsis" class="shortcut">Top</a>
                   | 
                  <a href="#SoupSocket.description" class="shortcut">Description</a>
                   | 
                  <a href="#SoupSocket.object-hierarchy" class="shortcut">Object Hierarchy</a>
                   | 
                  <a href="#SoupSocket.properties" class="shortcut">Properties</a>
                   | 
                  <a href="#SoupSocket.signals" class="shortcut">Signals</a>
</td></tr>
</table>
<div class="refentry" title="SoupSocket">
<a name="SoupSocket"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="SoupSocket.top_of_page"></a>SoupSocket</span></h2>
<p>SoupSocket — A network socket</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv" title="Synopsis">
<a name="SoupSocket.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis">
#include &lt;libsoup/soup.h&gt;

                    <a class="link" href="SoupSocket.html#SoupSocket-struct" title="SoupSocket">SoupSocket</a>;
<a class="link" href="SoupSocket.html" title="SoupSocket"><span class="returnvalue">SoupSocket</span></a> *        <a class="link" href="SoupSocket.html#soup-socket-new" title="soup_socket_new ()">soup_socket_new</a>                     (<em class="parameter"><code>const <span class="type">char</span> *optname1</code></em>,
                                                         <em class="parameter"><code>...</code></em>);

<span class="returnvalue">void</span>                (<a class="link" href="SoupSocket.html#SoupSocketCallback" title="SoupSocketCallback ()">*SoupSocketCallback</a>)               (<em class="parameter"><code><a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> status</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="SoupSocket.html#soup-socket-connect-async" title="soup_socket_connect_async ()">soup_socket_connect_async</a>           (<em class="parameter"><code><a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock</code></em>,
                                                         <em class="parameter"><code><span class="type">GCancellable</span> *cancellable</code></em>,
                                                         <em class="parameter"><code><a class="link" href="SoupSocket.html#SoupSocketCallback" title="SoupSocketCallback ()"><span class="type">SoupSocketCallback</span></a> callback</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>);
<span class="returnvalue">guint</span>               <a class="link" href="SoupSocket.html#soup-socket-connect-sync" title="soup_socket_connect_sync ()">soup_socket_connect_sync</a>            (<em class="parameter"><code><a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock</code></em>,
                                                         <em class="parameter"><code><span class="type">GCancellable</span> *cancellable</code></em>);

<span class="returnvalue">gboolean</span>            <a class="link" href="SoupSocket.html#soup-socket-listen" title="soup_socket_listen ()">soup_socket_listen</a>                  (<em class="parameter"><code><a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock</code></em>);

<span class="returnvalue">gboolean</span>            <a class="link" href="SoupSocket.html#soup-socket-start-ssl" title="soup_socket_start_ssl ()">soup_socket_start_ssl</a>               (<em class="parameter"><code><a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock</code></em>,
                                                         <em class="parameter"><code><span class="type">GCancellable</span> *cancellable</code></em>);
<span class="returnvalue">gboolean</span>            <a class="link" href="SoupSocket.html#soup-socket-start-proxy-ssl" title="soup_socket_start_proxy_ssl ()">soup_socket_start_proxy_ssl</a>         (<em class="parameter"><code><a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock</code></em>,
                                                         <em class="parameter"><code>const <span class="type">char</span> *ssl_host</code></em>,
                                                         <em class="parameter"><code><span class="type">GCancellable</span> *cancellable</code></em>);
<span class="returnvalue">gboolean</span>            <a class="link" href="SoupSocket.html#soup-socket-is-ssl" title="soup_socket_is_ssl ()">soup_socket_is_ssl</a>                  (<em class="parameter"><code><a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock</code></em>);

<span class="returnvalue">void</span>                <a class="link" href="SoupSocket.html#soup-socket-disconnect" title="soup_socket_disconnect ()">soup_socket_disconnect</a>              (<em class="parameter"><code><a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock</code></em>);
<span class="returnvalue">gboolean</span>            <a class="link" href="SoupSocket.html#soup-socket-is-connected" title="soup_socket_is_connected ()">soup_socket_is_connected</a>            (<em class="parameter"><code><a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock</code></em>);

<a class="link" href="SoupAddress.html" title="SoupAddress"><span class="returnvalue">SoupAddress</span></a> *       <a class="link" href="SoupSocket.html#soup-socket-get-local-address" title="soup_socket_get_local_address ()">soup_socket_get_local_address</a>       (<em class="parameter"><code><a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock</code></em>);
<a class="link" href="SoupAddress.html" title="SoupAddress"><span class="returnvalue">SoupAddress</span></a> *       <a class="link" href="SoupSocket.html#soup-socket-get-remote-address" title="soup_socket_get_remote_address ()">soup_socket_get_remote_address</a>      (<em class="parameter"><code><a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock</code></em>);

enum                <a class="link" href="SoupSocket.html#SoupSocketIOStatus" title="enum SoupSocketIOStatus">SoupSocketIOStatus</a>;
<a class="link" href="SoupSocket.html#SoupSocketIOStatus" title="enum SoupSocketIOStatus"><span class="returnvalue">SoupSocketIOStatus</span></a>  <a class="link" href="SoupSocket.html#soup-socket-read" title="soup_socket_read ()">soup_socket_read</a>                    (<em class="parameter"><code><a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> buffer</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> len</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> *nread</code></em>,
                                                         <em class="parameter"><code><span class="type">GCancellable</span> *cancellable</code></em>,
                                                         <em class="parameter"><code><span class="type">GError</span> **error</code></em>);
<a class="link" href="SoupSocket.html#SoupSocketIOStatus" title="enum SoupSocketIOStatus"><span class="returnvalue">SoupSocketIOStatus</span></a>  <a class="link" href="SoupSocket.html#soup-socket-read-until" title="soup_socket_read_until ()">soup_socket_read_until</a>              (<em class="parameter"><code><a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> buffer</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> len</code></em>,
                                                         <em class="parameter"><code><span class="type">gconstpointer</span> boundary</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> boundary_len</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> *nread</code></em>,
                                                         <em class="parameter"><code><span class="type">gboolean</span> *got_boundary</code></em>,
                                                         <em class="parameter"><code><span class="type">GCancellable</span> *cancellable</code></em>,
                                                         <em class="parameter"><code><span class="type">GError</span> **error</code></em>);
<a class="link" href="SoupSocket.html#SoupSocketIOStatus" title="enum SoupSocketIOStatus"><span class="returnvalue">SoupSocketIOStatus</span></a>  <a class="link" href="SoupSocket.html#soup-socket-write" title="soup_socket_write ()">soup_socket_write</a>                   (<em class="parameter"><code><a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock</code></em>,
                                                         <em class="parameter"><code><span class="type">gconstpointer</span> buffer</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> len</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> *nwrote</code></em>,
                                                         <em class="parameter"><code><span class="type">GCancellable</span> *cancellable</code></em>,
                                                         <em class="parameter"><code><span class="type">GError</span> **error</code></em>);

#define             <a class="link" href="SoupSocket.html#SOUP-SSL-ERROR:CAPS" title="SOUP_SSL_ERROR">SOUP_SSL_ERROR</a>
enum                <a class="link" href="SoupSocket.html#SoupSSLError" title="enum SoupSSLError">SoupSSLError</a>;

#define             <a class="link" href="SoupSocket.html#SOUP-SOCKET-LOCAL-ADDRESS:CAPS" title="SOUP_SOCKET_LOCAL_ADDRESS">SOUP_SOCKET_LOCAL_ADDRESS</a>
#define             <a class="link" href="SoupSocket.html#SOUP-SOCKET-REMOTE-ADDRESS:CAPS" title="SOUP_SOCKET_REMOTE_ADDRESS">SOUP_SOCKET_REMOTE_ADDRESS</a>
#define             <a class="link" href="SoupSocket.html#SOUP-SOCKET-FLAG-NONBLOCKING:CAPS" title="SOUP_SOCKET_FLAG_NONBLOCKING">SOUP_SOCKET_FLAG_NONBLOCKING</a>
#define             <a class="link" href="SoupSocket.html#SOUP-SOCKET-IS-SERVER:CAPS" title="SOUP_SOCKET_IS_SERVER">SOUP_SOCKET_IS_SERVER</a>
#define             <a class="link" href="SoupSocket.html#SOUP-SOCKET-SSL-CREDENTIALS:CAPS" title="SOUP_SOCKET_SSL_CREDENTIALS">SOUP_SOCKET_SSL_CREDENTIALS</a>
#define             <a class="link" href="SoupSocket.html#SOUP-SOCKET-ASYNC-CONTEXT:CAPS" title="SOUP_SOCKET_ASYNC_CONTEXT">SOUP_SOCKET_ASYNC_CONTEXT</a>
#define             <a class="link" href="SoupSocket.html#SOUP-SOCKET-TIMEOUT:CAPS" title="SOUP_SOCKET_TIMEOUT">SOUP_SOCKET_TIMEOUT</a>
</pre>
</div>
<div class="refsect1" title="Object Hierarchy">
<a name="SoupSocket.object-hierarchy"></a><h2>Object Hierarchy</h2>
<pre class="synopsis">
  GObject
   +----SoupSocket
</pre>
</div>
<div class="refsect1" title="Properties">
<a name="SoupSocket.properties"></a><h2>Properties</h2>
<pre class="synopsis">
  "<a class="link" href="SoupSocket.html#SoupSocket--async-context" title='The "async-context" property'>async-context</a>"            <span class="type">gpointer</span>              : Read / Write / Construct Only
  "<a class="link" href="SoupSocket.html#SoupSocket--clean-dispose" title='The "clean-dispose" property'>clean-dispose</a>"            <span class="type">gboolean</span>              : Write / Construct Only
  "<a class="link" href="SoupSocket.html#SoupSocket--is-server" title='The "is-server" property'>is-server</a>"                <span class="type">gboolean</span>              : Read
  "<a class="link" href="SoupSocket.html#SoupSocket--local-address" title='The "local-address" property'>local-address</a>"            <a class="link" href="SoupAddress.html" title="SoupAddress"><span class="type">SoupAddress</span></a>*          : Read / Write / Construct Only
  "<a class="link" href="SoupSocket.html#SoupSocket--non-blocking" title='The "non-blocking" property'>non-blocking</a>"             <span class="type">gboolean</span>              : Read / Write
  "<a class="link" href="SoupSocket.html#SoupSocket--remote-address" title='The "remote-address" property'>remote-address</a>"           <a class="link" href="SoupAddress.html" title="SoupAddress"><span class="type">SoupAddress</span></a>*          : Read / Write / Construct Only
  "<a class="link" href="SoupSocket.html#SoupSocket--ssl-creds" title='The "ssl-creds" property'>ssl-creds</a>"                <span class="type">gpointer</span>              : Read / Write
  "<a class="link" href="SoupSocket.html#SoupSocket--ssl-strict" title='The "ssl-strict" property'>ssl-strict</a>"               <span class="type">gboolean</span>              : Read / Write / Construct Only
  "<a class="link" href="SoupSocket.html#SoupSocket--timeout" title='The "timeout" property'>timeout</a>"                  <span class="type">guint</span>                 : Read / Write
  "<a class="link" href="SoupSocket.html#SoupSocket--tls-certificate" title='The "tls-certificate" property'>tls-certificate</a>"          <span class="type">GTlsCertificate</span>*      : Read
  "<a class="link" href="SoupSocket.html#SoupSocket--tls-errors" title='The "tls-errors" property'>tls-errors</a>"               <span class="type">GTlsCertificateFlags</span>  : Read
  "<a class="link" href="SoupSocket.html#SoupSocket--trusted-certificate" title='The "trusted-certificate" property'>trusted-certificate</a>"      <span class="type">gboolean</span>              : Read
</pre>
</div>
<div class="refsect1" title="Signals">
<a name="SoupSocket.signals"></a><h2>Signals</h2>
<pre class="synopsis">
  "<a class="link" href="SoupSocket.html#SoupSocket-disconnected" title='The "disconnected" signal'>disconnected</a>"                                   : Run Last
  "<a class="link" href="SoupSocket.html#SoupSocket-new-connection" title='The "new-connection" signal'>new-connection</a>"                                 : Run First
  "<a class="link" href="SoupSocket.html#SoupSocket-readable" title='The "readable" signal'>readable</a>"                                       : Run Last
  "<a class="link" href="SoupSocket.html#SoupSocket-writable" title='The "writable" signal'>writable</a>"                                       : Run Last
</pre>
</div>
<div class="refsect1" title="Description">
<a name="SoupSocket.description"></a><h2>Description</h2>
<p>
<a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> is libsoup's TCP socket type. While it is primarily
intended for internal use, <a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a>s are exposed in the
API in various places, and some of their methods (eg,
<a class="link" href="SoupSocket.html#soup-socket-get-remote-address" title="soup_socket_get_remote_address ()"><code class="function">soup_socket_get_remote_address()</code></a>) may be useful to applications.
</p>
</div>
<div class="refsect1" title="Details">
<a name="SoupSocket.details"></a><h2>Details</h2>
<div class="refsect2" title="SoupSocket">
<a name="SoupSocket-struct"></a><h3>SoupSocket</h3>
<pre class="programlisting">typedef struct _SoupSocket SoupSocket;</pre>
<p>
</p>
</div>
<hr>
<div class="refsect2" title="soup_socket_new ()">
<a name="soup-socket-new"></a><h3>soup_socket_new ()</h3>
<pre class="programlisting"><a class="link" href="SoupSocket.html" title="SoupSocket"><span class="returnvalue">SoupSocket</span></a> *        soup_socket_new                     (<em class="parameter"><code>const <span class="type">char</span> *optname1</code></em>,
                                                         <em class="parameter"><code>...</code></em>);</pre>
<p>
Creates a new (disconnected) socket
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>optname1</code></em> :</span></p></td>
<td>name of first property to set (or <code class="literal">NULL</code>)
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>...</code></em> :</span></p></td>
<td>value of <em class="parameter"><code>optname1</code></em>, followed by additional property/value pairs
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> the new socket
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="SoupSocketCallback ()">
<a name="SoupSocketCallback"></a><h3>SoupSocketCallback ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                (*SoupSocketCallback)               (<em class="parameter"><code><a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> status</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>);</pre>
<p>
The callback function passed to <a class="link" href="SoupSocket.html#soup-socket-connect-async" title="soup_socket_connect_async ()"><code class="function">soup_socket_connect_async()</code></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>sock</code></em> :</span></p></td>
<td>the <a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>status</code></em> :</span></p></td>
<td>an HTTP status code indicating success or failure
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>the data passed to <a class="link" href="SoupSocket.html#soup-socket-connect-async" title="soup_socket_connect_async ()"><code class="function">soup_socket_connect_async()</code></a>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="soup_socket_connect_async ()">
<a name="soup-socket-connect-async"></a><h3>soup_socket_connect_async ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                soup_socket_connect_async           (<em class="parameter"><code><a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock</code></em>,
                                                         <em class="parameter"><code><span class="type">GCancellable</span> *cancellable</code></em>,
                                                         <em class="parameter"><code><a class="link" href="SoupSocket.html#SoupSocketCallback" title="SoupSocketCallback ()"><span class="type">SoupSocketCallback</span></a> callback</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>);</pre>
<p>
Begins asynchronously connecting to <em class="parameter"><code>sock</code></em>'s remote address. The
socket will call <em class="parameter"><code>callback</code></em> when it succeeds or fails (but not
before returning from this function).
</p>
<p>
If <em class="parameter"><code>cancellable</code></em> is non-<code class="literal">NULL</code>, it can be used to cancel the
connection. <em class="parameter"><code>callback</code></em> will still be invoked in this case, with a
status of <a class="link" href="libsoup-2.4-soup-status.html#SOUP-STATUS-CANCELLED:CAPS"><code class="literal">SOUP_STATUS_CANCELLED</code></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>sock</code></em> :</span></p></td>
<td>a client <a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> (which must not already be connected)
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>cancellable</code></em> :</span></p></td>
<td>a <span class="type">GCancellable</span>, or <code class="literal">NULL</code>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em> :</span></p></td>
<td> callback to call after connecting. <span class="annotation">[<acronym title="The callback is valid until first called."><span class="acronym">scope async</span></acronym>]</span>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>data to pass to <em class="parameter"><code>callback</code></em>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="soup_socket_connect_sync ()">
<a name="soup-socket-connect-sync"></a><h3>soup_socket_connect_sync ()</h3>
<pre class="programlisting"><span class="returnvalue">guint</span>               soup_socket_connect_sync            (<em class="parameter"><code><a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock</code></em>,
                                                         <em class="parameter"><code><span class="type">GCancellable</span> *cancellable</code></em>);</pre>
<p>
Attempt to synchronously connect <em class="parameter"><code>sock</code></em> to its remote address.
</p>
<p>
If <em class="parameter"><code>cancellable</code></em> is non-<code class="literal">NULL</code>, it can be used to cancel the
connection, in which case <a class="link" href="SoupSocket.html#soup-socket-connect-sync" title="soup_socket_connect_sync ()"><code class="function">soup_socket_connect_sync()</code></a> will return
<a class="link" href="libsoup-2.4-soup-status.html#SOUP-STATUS-CANCELLED:CAPS"><code class="literal">SOUP_STATUS_CANCELLED</code></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>sock</code></em> :</span></p></td>
<td>a client <a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> (which must not already be connected)
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>cancellable</code></em> :</span></p></td>
<td>a <span class="type">GCancellable</span>, or <code class="literal">NULL</code>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> a success or failure code.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="soup_socket_listen ()">
<a name="soup-socket-listen"></a><h3>soup_socket_listen ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>            soup_socket_listen                  (<em class="parameter"><code><a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock</code></em>);</pre>
<p>
Makes <em class="parameter"><code>sock</code></em> start listening on its local address. When connections
come in, <em class="parameter"><code>sock</code></em> will emit <code class="literal">new_connection</code>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>sock</code></em> :</span></p></td>
<td>a server <a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> (which must not already be connected or
listening)
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> whether or not <em class="parameter"><code>sock</code></em> is now listening.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="soup_socket_start_ssl ()">
<a name="soup-socket-start-ssl"></a><h3>soup_socket_start_ssl ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>            soup_socket_start_ssl               (<em class="parameter"><code><a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock</code></em>,
                                                         <em class="parameter"><code><span class="type">GCancellable</span> *cancellable</code></em>);</pre>
<p>
Starts using SSL on <em class="parameter"><code>socket</code></em>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>sock</code></em> :</span></p></td>
<td>the socket
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>cancellable</code></em> :</span></p></td>
<td>a <span class="type">GCancellable</span>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> success or failure
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="soup_socket_start_proxy_ssl ()">
<a name="soup-socket-start-proxy-ssl"></a><h3>soup_socket_start_proxy_ssl ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>            soup_socket_start_proxy_ssl         (<em class="parameter"><code><a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock</code></em>,
                                                         <em class="parameter"><code>const <span class="type">char</span> *ssl_host</code></em>,
                                                         <em class="parameter"><code><span class="type">GCancellable</span> *cancellable</code></em>);</pre>
<p>
Starts using SSL on <em class="parameter"><code>socket</code></em>, expecting to find a host named
<em class="parameter"><code>ssl_host</code></em>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>sock</code></em> :</span></p></td>
<td>the socket
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>ssl_host</code></em> :</span></p></td>
<td>hostname of the SSL server
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>cancellable</code></em> :</span></p></td>
<td>a <span class="type">GCancellable</span>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> success or failure
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="soup_socket_is_ssl ()">
<a name="soup-socket-is-ssl"></a><h3>soup_socket_is_ssl ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>            soup_socket_is_ssl                  (<em class="parameter"><code><a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock</code></em>);</pre>
<p>
Tests if <em class="parameter"><code>sock</code></em> is set up to do SSL. Note that this simply means
that the <a class="link" href="SoupSocket.html#SOUP-SOCKET-SSL-CREDENTIALS:CAPS" title="SOUP_SOCKET_SSL_CREDENTIALS"><code class="literal">SOUP_SOCKET_SSL_CREDENTIALS</code></a> property has been set; it
does not mean that <a class="link" href="SoupSocket.html#soup-socket-start-ssl" title="soup_socket_start_ssl ()"><code class="function">soup_socket_start_ssl()</code></a> has been called.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>sock</code></em> :</span></p></td>
<td>a <a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> <code class="literal">TRUE</code> if <em class="parameter"><code>sock</code></em> has SSL credentials set
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="soup_socket_disconnect ()">
<a name="soup-socket-disconnect"></a><h3>soup_socket_disconnect ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                soup_socket_disconnect              (<em class="parameter"><code><a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock</code></em>);</pre>
<p>
Disconnects <em class="parameter"><code>sock</code></em>. Any further read or write attempts on it will
fail.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>sock</code></em> :</span></p></td>
<td>a <a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a>
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="soup_socket_is_connected ()">
<a name="soup-socket-is-connected"></a><h3>soup_socket_is_connected ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>            soup_socket_is_connected            (<em class="parameter"><code><a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock</code></em>);</pre>
<p>
Tests if <em class="parameter"><code>sock</code></em> is connected to another host
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>sock</code></em> :</span></p></td>
<td>a <a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> <code class="literal">TRUE</code> or <code class="literal">FALSE</code>.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="soup_socket_get_local_address ()">
<a name="soup-socket-get-local-address"></a><h3>soup_socket_get_local_address ()</h3>
<pre class="programlisting"><a class="link" href="SoupAddress.html" title="SoupAddress"><span class="returnvalue">SoupAddress</span></a> *       soup_socket_get_local_address       (<em class="parameter"><code><a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock</code></em>);</pre>
<p>
Returns the <a class="link" href="SoupAddress.html" title="SoupAddress"><span class="type">SoupAddress</span></a> corresponding to the local end of <em class="parameter"><code>sock</code></em>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>sock</code></em> :</span></p></td>
<td>a <a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> the <a class="link" href="SoupAddress.html" title="SoupAddress"><span class="type">SoupAddress</span></a>. <span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>]</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="soup_socket_get_remote_address ()">
<a name="soup-socket-get-remote-address"></a><h3>soup_socket_get_remote_address ()</h3>
<pre class="programlisting"><a class="link" href="SoupAddress.html" title="SoupAddress"><span class="returnvalue">SoupAddress</span></a> *       soup_socket_get_remote_address      (<em class="parameter"><code><a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock</code></em>);</pre>
<p>
Returns the <a class="link" href="SoupAddress.html" title="SoupAddress"><span class="type">SoupAddress</span></a> corresponding to the remote end of <em class="parameter"><code>sock</code></em>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>sock</code></em> :</span></p></td>
<td>a <a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> the <a class="link" href="SoupAddress.html" title="SoupAddress"><span class="type">SoupAddress</span></a>. <span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>]</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="enum SoupSocketIOStatus">
<a name="SoupSocketIOStatus"></a><h3>enum SoupSocketIOStatus</h3>
<pre class="programlisting">typedef enum {
	SOUP_SOCKET_OK,
	SOUP_SOCKET_WOULD_BLOCK,
	SOUP_SOCKET_EOF,
	SOUP_SOCKET_ERROR
} SoupSocketIOStatus;
</pre>
<p>
Return value from the <a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> IO methods.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><a name="SOUP-SOCKET-OK:CAPS"></a><span class="term"><code class="literal">SOUP_SOCKET_OK</code></span></p></td>
<td>Success
</td>
</tr>
<tr>
<td><p><a name="SOUP-SOCKET-WOULD-BLOCK:CAPS"></a><span class="term"><code class="literal">SOUP_SOCKET_WOULD_BLOCK</code></span></p></td>
<td>Cannot read/write any more at this time
</td>
</tr>
<tr>
<td><p><a name="SOUP-SOCKET-EOF:CAPS"></a><span class="term"><code class="literal">SOUP_SOCKET_EOF</code></span></p></td>
<td>End of file
</td>
</tr>
<tr>
<td><p><a name="SOUP-SOCKET-ERROR:CAPS"></a><span class="term"><code class="literal">SOUP_SOCKET_ERROR</code></span></p></td>
<td>Other error
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="soup_socket_read ()">
<a name="soup-socket-read"></a><h3>soup_socket_read ()</h3>
<pre class="programlisting"><a class="link" href="SoupSocket.html#SoupSocketIOStatus" title="enum SoupSocketIOStatus"><span class="returnvalue">SoupSocketIOStatus</span></a>  soup_socket_read                    (<em class="parameter"><code><a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> buffer</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> len</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> *nread</code></em>,
                                                         <em class="parameter"><code><span class="type">GCancellable</span> *cancellable</code></em>,
                                                         <em class="parameter"><code><span class="type">GError</span> **error</code></em>);</pre>
<p>
Attempts to read up to <em class="parameter"><code>len</code></em> bytes from <em class="parameter"><code>sock</code></em> into <em class="parameter"><code>buffer</code></em>. If some
data is successfully read, <a class="link" href="SoupSocket.html#soup-socket-read" title="soup_socket_read ()"><code class="function">soup_socket_read()</code></a> will return
<a class="link" href="SoupSocket.html#SOUP-SOCKET-OK:CAPS"><code class="literal">SOUP_SOCKET_OK</code></a>, and *<em class="parameter"><code>nread</code></em> will contain the number of bytes
actually read (which may be less than <em class="parameter"><code>len</code></em>).
</p>
<p>
If <em class="parameter"><code>sock</code></em> is non-blocking, and no data is available, the return
value will be <a class="link" href="SoupSocket.html#SOUP-SOCKET-WOULD-BLOCK:CAPS"><code class="literal">SOUP_SOCKET_WOULD_BLOCK</code></a>. In this case, the caller
can connect to the <a class="link" href="SoupSocket.html#SoupSocket-readable" title='The "readable" signal'><span class="type">"readable"</span></a> signal to know when there
is more data to read. (NB: You MUST read all available data off the
socket first. <a class="link" href="SoupSocket.html#SoupSocket-readable" title='The "readable" signal'><span class="type">"readable"</span></a> is only emitted after
<a class="link" href="SoupSocket.html#soup-socket-read" title="soup_socket_read ()"><code class="function">soup_socket_read()</code></a> returns <a class="link" href="SoupSocket.html#SOUP-SOCKET-WOULD-BLOCK:CAPS"><code class="literal">SOUP_SOCKET_WOULD_BLOCK</code></a>, and it is only
emitted once. See the documentation for <a class="link" href="SoupSocket.html#SoupSocket--non-blocking" title='The "non-blocking" property'><span class="type">"non-blocking"</span></a>.)
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>sock</code></em> :</span></p></td>
<td>the socket
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>buffer</code></em> :</span></p></td>
<td>buffer to read into
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>len</code></em> :</span></p></td>
<td>size of <em class="parameter"><code>buffer</code></em> in bytes
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>nread</code></em> :</span></p></td>
<td>on return, the number of bytes read into <em class="parameter"><code>buffer</code></em>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>cancellable</code></em> :</span></p></td>
<td>a <span class="type">GCancellable</span>, or <code class="literal">NULL</code>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em> :</span></p></td>
<td>error pointer
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> a <a class="link" href="SoupSocket.html#SoupSocketIOStatus" title="enum SoupSocketIOStatus"><span class="type">SoupSocketIOStatus</span></a>, as described above (or
<a class="link" href="SoupSocket.html#SOUP-SOCKET-EOF:CAPS"><code class="literal">SOUP_SOCKET_EOF</code></a> if the socket is no longer connected, or
<a class="link" href="SoupSocket.html#SOUP-SOCKET-ERROR:CAPS"><code class="literal">SOUP_SOCKET_ERROR</code></a> on any other error, in which case <em class="parameter"><code>error</code></em> will
also be set).
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="soup_socket_read_until ()">
<a name="soup-socket-read-until"></a><h3>soup_socket_read_until ()</h3>
<pre class="programlisting"><a class="link" href="SoupSocket.html#SoupSocketIOStatus" title="enum SoupSocketIOStatus"><span class="returnvalue">SoupSocketIOStatus</span></a>  soup_socket_read_until              (<em class="parameter"><code><a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> buffer</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> len</code></em>,
                                                         <em class="parameter"><code><span class="type">gconstpointer</span> boundary</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> boundary_len</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> *nread</code></em>,
                                                         <em class="parameter"><code><span class="type">gboolean</span> *got_boundary</code></em>,
                                                         <em class="parameter"><code><span class="type">GCancellable</span> *cancellable</code></em>,
                                                         <em class="parameter"><code><span class="type">GError</span> **error</code></em>);</pre>
<p>
Like <a class="link" href="SoupSocket.html#soup-socket-read" title="soup_socket_read ()"><code class="function">soup_socket_read()</code></a>, but reads no further than the first
occurrence of <em class="parameter"><code>boundary</code></em>. (If the boundary is found, it will be
included in the returned data, and *<em class="parameter"><code>got_boundary</code></em> will be set to
<code class="literal">TRUE</code>.) Any data after the boundary will returned in future reads.
</p>
<p>
<a class="link" href="SoupSocket.html#soup-socket-read-until" title="soup_socket_read_until ()"><code class="function">soup_socket_read_until()</code></a> will almost always return fewer than <em class="parameter"><code>len</code></em>
bytes: if the boundary is found, then it will only return the bytes
up until the end of the boundary, and if the boundary is not found,
then it will leave the last <code class="literal">(boundary_len - 1)</code>
bytes in its internal buffer, in case they form the start of the
boundary string. Thus, <em class="parameter"><code>len</code></em> normally needs to be at least 1 byte
longer than <em class="parameter"><code>boundary_len</code></em> if you want to make any progress at all.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>sock</code></em> :</span></p></td>
<td>the socket
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>buffer</code></em> :</span></p></td>
<td>buffer to read into
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>len</code></em> :</span></p></td>
<td>size of <em class="parameter"><code>buffer</code></em> in bytes
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>boundary</code></em> :</span></p></td>
<td>boundary to read until
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>boundary_len</code></em> :</span></p></td>
<td>length of <em class="parameter"><code>boundary</code></em> in bytes
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>nread</code></em> :</span></p></td>
<td>on return, the number of bytes read into <em class="parameter"><code>buffer</code></em>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>got_boundary</code></em> :</span></p></td>
<td>on return, whether or not the data in <em class="parameter"><code>buffer</code></em>
ends with the boundary string
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>cancellable</code></em> :</span></p></td>
<td>a <span class="type">GCancellable</span>, or <code class="literal">NULL</code>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em> :</span></p></td>
<td>error pointer
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> as for <a class="link" href="SoupSocket.html#soup-socket-read" title="soup_socket_read ()"><code class="function">soup_socket_read()</code></a>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="soup_socket_write ()">
<a name="soup-socket-write"></a><h3>soup_socket_write ()</h3>
<pre class="programlisting"><a class="link" href="SoupSocket.html#SoupSocketIOStatus" title="enum SoupSocketIOStatus"><span class="returnvalue">SoupSocketIOStatus</span></a>  soup_socket_write                   (<em class="parameter"><code><a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock</code></em>,
                                                         <em class="parameter"><code><span class="type">gconstpointer</span> buffer</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> len</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> *nwrote</code></em>,
                                                         <em class="parameter"><code><span class="type">GCancellable</span> *cancellable</code></em>,
                                                         <em class="parameter"><code><span class="type">GError</span> **error</code></em>);</pre>
<p>
Attempts to write <em class="parameter"><code>len</code></em> bytes from <em class="parameter"><code>buffer</code></em> to <em class="parameter"><code>sock</code></em>. If some data is
successfully written, the return status will be <a class="link" href="SoupSocket.html#SOUP-SOCKET-OK:CAPS"><code class="literal">SOUP_SOCKET_OK</code></a>,
and *<em class="parameter"><code>nwrote</code></em> will contain the number of bytes actually written
(which may be less than <em class="parameter"><code>len</code></em>).
</p>
<p>
If <em class="parameter"><code>sock</code></em> is non-blocking, and no data could be written right away,
the return value will be <a class="link" href="SoupSocket.html#SOUP-SOCKET-WOULD-BLOCK:CAPS"><code class="literal">SOUP_SOCKET_WOULD_BLOCK</code></a>. In this case,
the caller can connect to the <a class="link" href="SoupSocket.html#SoupSocket-writable" title='The "writable" signal'><span class="type">"writable"</span></a> signal to know
when more data can be written. (NB: <a class="link" href="SoupSocket.html#SoupSocket-writable" title='The "writable" signal'><span class="type">"writable"</span></a> is only
emitted after <a class="link" href="SoupSocket.html#soup-socket-write" title="soup_socket_write ()"><code class="function">soup_socket_write()</code></a> returns <a class="link" href="SoupSocket.html#SOUP-SOCKET-WOULD-BLOCK:CAPS"><code class="literal">SOUP_SOCKET_WOULD_BLOCK</code></a>,
and it is only emitted once. See the documentation for
<a class="link" href="SoupSocket.html#SoupSocket--non-blocking" title='The "non-blocking" property'><span class="type">"non-blocking"</span></a>.)
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>sock</code></em> :</span></p></td>
<td>the socket
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>buffer</code></em> :</span></p></td>
<td>data to write
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>len</code></em> :</span></p></td>
<td>size of <em class="parameter"><code>buffer</code></em>, in bytes
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>nwrote</code></em> :</span></p></td>
<td>on return, number of bytes written
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>cancellable</code></em> :</span></p></td>
<td>a <span class="type">GCancellable</span>, or <code class="literal">NULL</code>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em> :</span></p></td>
<td>error pointer
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> a <a class="link" href="SoupSocket.html#SoupSocketIOStatus" title="enum SoupSocketIOStatus"><span class="type">SoupSocketIOStatus</span></a>, as described above (or
<a class="link" href="SoupSocket.html#SOUP-SOCKET-EOF:CAPS"><code class="literal">SOUP_SOCKET_EOF</code></a> or <a class="link" href="SoupSocket.html#SOUP-SOCKET-ERROR:CAPS"><code class="literal">SOUP_SOCKET_ERROR</code></a>. <em class="parameter"><code>error</code></em> will be set if the
return value is <a class="link" href="SoupSocket.html#SOUP-SOCKET-ERROR:CAPS"><code class="literal">SOUP_SOCKET_ERROR</code></a>.)
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="SOUP_SSL_ERROR">
<a name="SOUP-SSL-ERROR:CAPS"></a><h3>SOUP_SSL_ERROR</h3>
<pre class="programlisting">#define SOUP_SSL_ERROR soup_ssl_error_quark()
</pre>
<p>
A <span class="type">GError</span> domain representing an SSL error. Used with <a class="link" href="SoupSocket.html#SoupSSLError" title="enum SoupSSLError"><span class="type">SoupSSLError</span></a>.
</p>
</div>
<hr>
<div class="refsect2" title="enum SoupSSLError">
<a name="SoupSSLError"></a><h3>enum SoupSSLError</h3>
<pre class="programlisting">typedef enum {
	SOUP_SSL_ERROR_HANDSHAKE_NEEDS_READ,
	SOUP_SSL_ERROR_HANDSHAKE_NEEDS_WRITE,
	SOUP_SSL_ERROR_CERTIFICATE,
	SOUP_SSL_ERROR_HANDSHAKE_FAILED
} SoupSSLError;
</pre>
<p>
SSL-related I/O errors.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><a name="SOUP-SSL-ERROR-HANDSHAKE-NEEDS-READ:CAPS"></a><span class="term"><code class="literal">SOUP_SSL_ERROR_HANDSHAKE_NEEDS_READ</code></span></p></td>
<td>Internal error. Never exposed
outside of libsoup.
</td>
</tr>
<tr>
<td><p><a name="SOUP-SSL-ERROR-HANDSHAKE-NEEDS-WRITE:CAPS"></a><span class="term"><code class="literal">SOUP_SSL_ERROR_HANDSHAKE_NEEDS_WRITE</code></span></p></td>
<td>Internal error. Never exposed
outside of libsoup.
</td>
</tr>
<tr>
<td><p><a name="SOUP-SSL-ERROR-CERTIFICATE:CAPS"></a><span class="term"><code class="literal">SOUP_SSL_ERROR_CERTIFICATE</code></span></p></td>
<td>Indicates an error validating an SSL
certificate
</td>
</tr>
<tr>
<td><p><a name="SOUP-SSL-ERROR-HANDSHAKE-FAILED:CAPS"></a><span class="term"><code class="literal">SOUP_SSL_ERROR_HANDSHAKE_FAILED</code></span></p></td>
<td>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="SOUP_SOCKET_LOCAL_ADDRESS">
<a name="SOUP-SOCKET-LOCAL-ADDRESS:CAPS"></a><h3>SOUP_SOCKET_LOCAL_ADDRESS</h3>
<pre class="programlisting">#define SOUP_SOCKET_LOCAL_ADDRESS       "local-address"
</pre>
<p>
Alias for the <a class="link" href="SoupSocket.html#SoupSocket--local-address" title='The "local-address" property'><span class="type">"local-address"</span></a> property. (Address
of local end of socket.)
</p>
</div>
<hr>
<div class="refsect2" title="SOUP_SOCKET_REMOTE_ADDRESS">
<a name="SOUP-SOCKET-REMOTE-ADDRESS:CAPS"></a><h3>SOUP_SOCKET_REMOTE_ADDRESS</h3>
<pre class="programlisting">#define SOUP_SOCKET_REMOTE_ADDRESS      "remote-address"
</pre>
<p>
Alias for the <a class="link" href="SoupSocket.html#SoupSocket--remote-address" title='The "remote-address" property'><span class="type">"remote-address"</span></a> property. (Address
of remote end of socket.)
</p>
</div>
<hr>
<div class="refsect2" title="SOUP_SOCKET_FLAG_NONBLOCKING">
<a name="SOUP-SOCKET-FLAG-NONBLOCKING:CAPS"></a><h3>SOUP_SOCKET_FLAG_NONBLOCKING</h3>
<pre class="programlisting">#define SOUP_SOCKET_FLAG_NONBLOCKING    "non-blocking"
</pre>
<p>
Alias for the <a class="link" href="SoupSocket.html#SoupSocket--non-blocking" title='The "non-blocking" property'><span class="type">"non-blocking"</span></a> property. (Whether
or not the socket uses non-blocking I/O.)
</p>
</div>
<hr>
<div class="refsect2" title="SOUP_SOCKET_IS_SERVER">
<a name="SOUP-SOCKET-IS-SERVER:CAPS"></a><h3>SOUP_SOCKET_IS_SERVER</h3>
<pre class="programlisting">#define SOUP_SOCKET_IS_SERVER           "is-server"
</pre>
<p>
Alias for the <a class="link" href="SoupSocket.html#SoupSocket--is-server" title='The "is-server" property'><span class="type">"is-server"</span></a> property. (Whether or
not the socket is a server socket.)
</p>
</div>
<hr>
<div class="refsect2" title="SOUP_SOCKET_SSL_CREDENTIALS">
<a name="SOUP-SOCKET-SSL-CREDENTIALS:CAPS"></a><h3>SOUP_SOCKET_SSL_CREDENTIALS</h3>
<pre class="programlisting">#define SOUP_SOCKET_SSL_CREDENTIALS     "ssl-creds"
</pre>
<p>
Alias for the <span class="type">"ssl-credentials"</span> property.
(SSL credential information.)
</p>
</div>
<hr>
<div class="refsect2" title="SOUP_SOCKET_ASYNC_CONTEXT">
<a name="SOUP-SOCKET-ASYNC-CONTEXT:CAPS"></a><h3>SOUP_SOCKET_ASYNC_CONTEXT</h3>
<pre class="programlisting">#define SOUP_SOCKET_ASYNC_CONTEXT       "async-context"
</pre>
<p>
Alias for the <a class="link" href="SoupSocket.html#SoupSocket--async-context" title='The "async-context" property'><span class="type">"async-context"</span></a> property. (The
socket's <span class="type">GMainContext</span>.)
</p>
</div>
<hr>
<div class="refsect2" title="SOUP_SOCKET_TIMEOUT">
<a name="SOUP-SOCKET-TIMEOUT:CAPS"></a><h3>SOUP_SOCKET_TIMEOUT</h3>
<pre class="programlisting">#define SOUP_SOCKET_TIMEOUT             "timeout"
</pre>
<p>
Alias for the <a class="link" href="SoupSocket.html#SoupSocket--timeout" title='The "timeout" property'><span class="type">"timeout"</span></a> property. (The timeout
in seconds for blocking socket I/O operations.)
</p>
</div>
</div>
<div class="refsect1" title="Property Details">
<a name="SoupSocket.property-details"></a><h2>Property Details</h2>
<div class="refsect2" title='The "async-context" property'>
<a name="SoupSocket--async-context"></a><h3>The <code class="literal">"async-context"</code> property</h3>
<pre class="programlisting">  "async-context"            <span class="type">gpointer</span>              : Read / Write / Construct Only</pre>
<p>The GMainContext to dispatch this socket's async I/O in.</p>
</div>
<hr>
<div class="refsect2" title='The "clean-dispose" property'>
<a name="SoupSocket--clean-dispose"></a><h3>The <code class="literal">"clean-dispose"</code> property</h3>
<pre class="programlisting">  "clean-dispose"            <span class="type">gboolean</span>              : Write / Construct Only</pre>
<p>Warn on unclean dispose.</p>
<p>Default value: FALSE</p>
</div>
<hr>
<div class="refsect2" title='The "is-server" property'>
<a name="SoupSocket--is-server"></a><h3>The <code class="literal">"is-server"</code> property</h3>
<pre class="programlisting">  "is-server"                <span class="type">gboolean</span>              : Read</pre>
<p>Whether or not the socket is a server socket.</p>
<p>Default value: FALSE</p>
</div>
<hr>
<div class="refsect2" title='The "local-address" property'>
<a name="SoupSocket--local-address"></a><h3>The <code class="literal">"local-address"</code> property</h3>
<pre class="programlisting">  "local-address"            <a class="link" href="SoupAddress.html" title="SoupAddress"><span class="type">SoupAddress</span></a>*          : Read / Write / Construct Only</pre>
<p>Address of local end of socket.</p>
</div>
<hr>
<div class="refsect2" title='The "non-blocking" property'>
<a name="SoupSocket--non-blocking"></a><h3>The <code class="literal">"non-blocking"</code> property</h3>
<pre class="programlisting">  "non-blocking"             <span class="type">gboolean</span>              : Read / Write</pre>
<p>
Whether or not the socket uses non-blocking I/O.
</p>
<p>
<a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a>'s I/O methods are designed around the idea of
using a single codepath for both synchronous and
asynchronous I/O. If you want to read off a <a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a>,
the "correct" way to do it is to call <a class="link" href="SoupSocket.html#soup-socket-read" title="soup_socket_read ()"><code class="function">soup_socket_read()</code></a> or
<a class="link" href="SoupSocket.html#soup-socket-read-until" title="soup_socket_read_until ()"><code class="function">soup_socket_read_until()</code></a> repeatedly until you have read
everything you want. If it returns <a class="link" href="SoupSocket.html#SOUP-SOCKET-WOULD-BLOCK:CAPS"><code class="literal">SOUP_SOCKET_WOULD_BLOCK</code></a>
at any point, stop reading and wait for it to emit the
<a class="link" href="SoupSocket.html#SoupSocket-readable" title='The "readable" signal'><span class="type">"readable"</span></a> signal. Then go back to the
reading-as-much-as-you-can loop. Likewise, for writing to a
<a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a>, you should call <a class="link" href="SoupSocket.html#soup-socket-write" title="soup_socket_write ()"><code class="function">soup_socket_write()</code></a> either
until you have written everything, or it returns
<a class="link" href="SoupSocket.html#SOUP-SOCKET-WOULD-BLOCK:CAPS"><code class="literal">SOUP_SOCKET_WOULD_BLOCK</code></a> (in which case you wait for
<a class="link" href="SoupSocket.html#SoupSocket-writable" title='The "writable" signal'><span class="type">"writable"</span></a> and then go back into the loop).
</p>
<p>
Code written this way will work correctly with both
blocking and non-blocking sockets; blocking sockets will
simply never return <a class="link" href="SoupSocket.html#SOUP-SOCKET-WOULD-BLOCK:CAPS"><code class="literal">SOUP_SOCKET_WOULD_BLOCK</code></a>, and so the
code that handles that case just won't get used for them.
</p>
<p>Default value: TRUE</p>
</div>
<hr>
<div class="refsect2" title='The "remote-address" property'>
<a name="SoupSocket--remote-address"></a><h3>The <code class="literal">"remote-address"</code> property</h3>
<pre class="programlisting">  "remote-address"           <a class="link" href="SoupAddress.html" title="SoupAddress"><span class="type">SoupAddress</span></a>*          : Read / Write / Construct Only</pre>
<p>Address of remote end of socket.</p>
</div>
<hr>
<div class="refsect2" title='The "ssl-creds" property'>
<a name="SoupSocket--ssl-creds"></a><h3>The <code class="literal">"ssl-creds"</code> property</h3>
<pre class="programlisting">  "ssl-creds"                <span class="type">gpointer</span>              : Read / Write</pre>
<p>SSL credential information, passed from the session to the SSL implementation.</p>
</div>
<hr>
<div class="refsect2" title='The "ssl-strict" property'>
<a name="SoupSocket--ssl-strict"></a><h3>The <code class="literal">"ssl-strict"</code> property</h3>
<pre class="programlisting">  "ssl-strict"               <span class="type">gboolean</span>              : Read / Write / Construct Only</pre>
<p>Whether certificate errors should be considered a connection error.</p>
<p>Default value: TRUE</p>
</div>
<hr>
<div class="refsect2" title='The "timeout" property'>
<a name="SoupSocket--timeout"></a><h3>The <code class="literal">"timeout"</code> property</h3>
<pre class="programlisting">  "timeout"                  <span class="type">guint</span>                 : Read / Write</pre>
<p>Value in seconds to timeout a blocking I/O.</p>
<p>Default value: 0</p>
</div>
<hr>
<div class="refsect2" title='The "tls-certificate" property'>
<a name="SoupSocket--tls-certificate"></a><h3>The <code class="literal">"tls-certificate"</code> property</h3>
<pre class="programlisting">  "tls-certificate"          <span class="type">GTlsCertificate</span>*      : Read</pre>
<p>The peer's TLS certificate.</p>
</div>
<hr>
<div class="refsect2" title='The "tls-errors" property'>
<a name="SoupSocket--tls-errors"></a><h3>The <code class="literal">"tls-errors"</code> property</h3>
<pre class="programlisting">  "tls-errors"               <span class="type">GTlsCertificateFlags</span>  : Read</pre>
<p>Errors with the peer's TLS certificate.</p>
</div>
<hr>
<div class="refsect2" title='The "trusted-certificate" property'>
<a name="SoupSocket--trusted-certificate"></a><h3>The <code class="literal">"trusted-certificate"</code> property</h3>
<pre class="programlisting">  "trusted-certificate"      <span class="type">gboolean</span>              : Read</pre>
<p>Whether the server certificate is trusted, if this is an SSL socket.</p>
<p>Default value: FALSE</p>
</div>
</div>
<div class="refsect1" title="Signal Details">
<a name="SoupSocket.signal-details"></a><h2>Signal Details</h2>
<div class="refsect2" title='The "disconnected" signal'>
<a name="SoupSocket-disconnected"></a><h3>The <code class="literal">"disconnected"</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                user_function                      (<a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock,
                                                        <span class="type">gpointer</span>    user_data)      : Run Last</pre>
<p>
Emitted when the socket is disconnected, for whatever
reason.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>sock</code></em> :</span></p></td>
<td>the socket
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title='The "new-connection" signal'>
<a name="SoupSocket-new-connection"></a><h3>The <code class="literal">"new-connection"</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                user_function                      (<a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock,
                                                        <a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *new,
                                                        <span class="type">gpointer</span>    user_data)      : Run First</pre>
<p>
Emitted when a listening socket (set up with
<a class="link" href="SoupSocket.html#soup-socket-listen" title="soup_socket_listen ()"><code class="function">soup_socket_listen()</code></a>) receives a new connection.
</p>
<p>
You must ref the <em class="parameter"><code>new</code></em> if you want to keep it; otherwise it
will be destroyed after the signal is emitted.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>sock</code></em> :</span></p></td>
<td>the socket
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>new</code></em> :</span></p></td>
<td>the new socket
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title='The "readable" signal'>
<a name="SoupSocket-readable"></a><h3>The <code class="literal">"readable"</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                user_function                      (<a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock,
                                                        <span class="type">gpointer</span>    user_data)      : Run Last</pre>
<p>
Emitted when an async socket is readable. See
<a class="link" href="SoupSocket.html#soup-socket-read" title="soup_socket_read ()"><code class="function">soup_socket_read()</code></a>, <a class="link" href="SoupSocket.html#soup-socket-read-until" title="soup_socket_read_until ()"><code class="function">soup_socket_read_until()</code></a> and
<a class="link" href="SoupSocket.html#SoupSocket--non-blocking" title='The "non-blocking" property'><span class="type">"non-blocking"</span></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>sock</code></em> :</span></p></td>
<td>the socket
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title='The "writable" signal'>
<a name="SoupSocket-writable"></a><h3>The <code class="literal">"writable"</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                user_function                      (<a class="link" href="SoupSocket.html" title="SoupSocket"><span class="type">SoupSocket</span></a> *sock,
                                                        <span class="type">gpointer</span>    user_data)      : Run Last</pre>
<p>
Emitted when an async socket is writable. See
<a class="link" href="SoupSocket.html#soup-socket-write" title="soup_socket_write ()"><code class="function">soup_socket_write()</code></a> and <a class="link" href="SoupSocket.html#SoupSocket--non-blocking" title='The "non-blocking" property'><span class="type">"non-blocking"</span></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>sock</code></em> :</span></p></td>
<td>the socket
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.15</div>
</body>
</html>