<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>SoupMessage</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="index.html" title="libsoup Reference Manual">
<link rel="up" href="ch02.html" title="Core API">
<link rel="prev" href="libsoup-2.4-SoupCookie.html" title="SoupCookie">
<link rel="next" href="libsoup-2.4-SoupMessageHeaders.html" title="SoupMessageHeaders">
<meta name="generator" content="GTK-Doc V1.15 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="libsoup-2.4-SoupCookie.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch02.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">libsoup Reference Manual</th>
<td><a accesskey="n" href="libsoup-2.4-SoupMessageHeaders.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#SoupMessage.synopsis" class="shortcut">Top</a>
                   | 
                  <a href="#SoupMessage.description" class="shortcut">Description</a>
                   | 
                  <a href="#SoupMessage.object-hierarchy" class="shortcut">Object Hierarchy</a>
                   | 
                  <a href="#SoupMessage.properties" class="shortcut">Properties</a>
                   | 
                  <a href="#SoupMessage.signals" class="shortcut">Signals</a>
</td></tr>
</table>
<div class="refentry" title="SoupMessage">
<a name="SoupMessage"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="SoupMessage.top_of_page"></a>SoupMessage</span></h2>
<p>SoupMessage — An HTTP request and response.</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv" title="Synopsis">
<a name="SoupMessage.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis">
#include &lt;libsoup/soup.h&gt;

                    <a class="link" href="SoupMessage.html#SoupMessage-struct" title="SoupMessage">SoupMessage</a>;

<a class="link" href="SoupMessage.html" title="SoupMessage"><span class="returnvalue">SoupMessage</span></a> *       <a class="link" href="SoupMessage.html#soup-message-new" title="soup_message_new ()">soup_message_new</a>                    (<em class="parameter"><code>const <span class="type">char</span> *method</code></em>,
                                                         <em class="parameter"><code>const <span class="type">char</span> *uri_string</code></em>);
<a class="link" href="SoupMessage.html" title="SoupMessage"><span class="returnvalue">SoupMessage</span></a> *       <a class="link" href="SoupMessage.html#soup-message-new-from-uri" title="soup_message_new_from_uri ()">soup_message_new_from_uri</a>           (<em class="parameter"><code>const <span class="type">char</span> *method</code></em>,
                                                         <em class="parameter"><code><a class="link" href="libsoup-2.4-SoupURI.html#SoupURI" title="SoupURI"><span class="type">SoupURI</span></a> *uri</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="SoupMessage.html#soup-message-set-request" title="soup_message_set_request ()">soup_message_set_request</a>            (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>,
                                                         <em class="parameter"><code>const <span class="type">char</span> *content_type</code></em>,
                                                         <em class="parameter"><code><a class="link" href="libsoup-2.4-SoupMessageBody.html#SoupMemoryUse" title="enum SoupMemoryUse"><span class="type">SoupMemoryUse</span></a> req_use</code></em>,
                                                         <em class="parameter"><code>const <span class="type">char</span> *req_body</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> req_length</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="SoupMessage.html#soup-message-set-response" title="soup_message_set_response ()">soup_message_set_response</a>           (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>,
                                                         <em class="parameter"><code>const <span class="type">char</span> *content_type</code></em>,
                                                         <em class="parameter"><code><a class="link" href="libsoup-2.4-SoupMessageBody.html#SoupMemoryUse" title="enum SoupMemoryUse"><span class="type">SoupMemoryUse</span></a> resp_use</code></em>,
                                                         <em class="parameter"><code>const <span class="type">char</span> *resp_body</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> resp_length</code></em>);

enum                <a class="link" href="SoupMessage.html#SoupHTTPVersion" title="enum SoupHTTPVersion">SoupHTTPVersion</a>;
<span class="returnvalue">void</span>                <a class="link" href="SoupMessage.html#soup-message-set-http-version" title="soup_message_set_http_version ()">soup_message_set_http_version</a>       (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>,
                                                         <em class="parameter"><code><a class="link" href="SoupMessage.html#SoupHTTPVersion" title="enum SoupHTTPVersion"><span class="type">SoupHTTPVersion</span></a> version</code></em>);
<a class="link" href="SoupMessage.html#SoupHTTPVersion" title="enum SoupHTTPVersion"><span class="returnvalue">SoupHTTPVersion</span></a>     <a class="link" href="SoupMessage.html#soup-message-get-http-version" title="soup_message_get_http_version ()">soup_message_get_http_version</a>       (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>);
<a class="link" href="libsoup-2.4-SoupURI.html#SoupURI" title="SoupURI"><span class="returnvalue">SoupURI</span></a> *           <a class="link" href="SoupMessage.html#soup-message-get-uri" title="soup_message_get_uri ()">soup_message_get_uri</a>                (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="SoupMessage.html#soup-message-set-uri" title="soup_message_set_uri ()">soup_message_set_uri</a>                (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>,
                                                         <em class="parameter"><code><a class="link" href="libsoup-2.4-SoupURI.html#SoupURI" title="SoupURI"><span class="type">SoupURI</span></a> *uri</code></em>);
<a class="link" href="SoupAddress.html" title="SoupAddress"><span class="returnvalue">SoupAddress</span></a> *       <a class="link" href="SoupMessage.html#soup-message-get-address" title="soup_message_get_address ()">soup_message_get_address</a>            (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>);

<span class="returnvalue">void</span>                <a class="link" href="SoupMessage.html#soup-message-set-status" title="soup_message_set_status ()">soup_message_set_status</a>             (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> status_code</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="SoupMessage.html#soup-message-set-status-full" title="soup_message_set_status_full ()">soup_message_set_status_full</a>        (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> status_code</code></em>,
                                                         <em class="parameter"><code>const <span class="type">char</span> *reason_phrase</code></em>);
<span class="returnvalue">gboolean</span>            <a class="link" href="SoupMessage.html#soup-message-is-keepalive" title="soup_message_is_keepalive ()">soup_message_is_keepalive</a>           (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>);

<span class="returnvalue">guint</span>               <a class="link" href="SoupMessage.html#soup-message-add-header-handler" title="soup_message_add_header_handler ()">soup_message_add_header_handler</a>     (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>,
                                                         <em class="parameter"><code>const <span class="type">char</span> *signal</code></em>,
                                                         <em class="parameter"><code>const <span class="type">char</span> *header</code></em>,
                                                         <em class="parameter"><code><span class="type">GCallback</span> callback</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>);
<span class="returnvalue">guint</span>               <a class="link" href="SoupMessage.html#soup-message-add-status-code-handler" title="soup_message_add_status_code_handler ()">soup_message_add_status_code_handler</a>
                                                        (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>,
                                                         <em class="parameter"><code>const <span class="type">char</span> *signal</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> status_code</code></em>,
                                                         <em class="parameter"><code><span class="type">GCallback</span> callback</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>);

enum                <a class="link" href="SoupMessage.html#SoupMessageFlags" title="enum SoupMessageFlags">SoupMessageFlags</a>;
<span class="returnvalue">void</span>                <a class="link" href="SoupMessage.html#soup-message-set-flags" title="soup_message_set_flags ()">soup_message_set_flags</a>              (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>,
                                                         <em class="parameter"><code><a class="link" href="SoupMessage.html#SoupMessageFlags" title="enum SoupMessageFlags"><span class="type">SoupMessageFlags</span></a> flags</code></em>);
<a class="link" href="SoupMessage.html#SoupMessageFlags" title="enum SoupMessageFlags"><span class="returnvalue">SoupMessageFlags</span></a>    <a class="link" href="SoupMessage.html#soup-message-get-flags" title="soup_message_get_flags ()">soup_message_get_flags</a>              (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>);
<a class="link" href="libsoup-2.4-SoupMessageBody.html#SoupBuffer" title="SoupBuffer"><span class="returnvalue">SoupBuffer</span></a> *        (<a class="link" href="SoupMessage.html#SoupChunkAllocator" title="SoupChunkAllocator ()">*SoupChunkAllocator</a>)               (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> max_len</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="SoupMessage.html#soup-message-set-chunk-allocator" title="soup_message_set_chunk_allocator ()">soup_message_set_chunk_allocator</a>    (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>,
                                                         <em class="parameter"><code><a class="link" href="SoupMessage.html#SoupChunkAllocator" title="SoupChunkAllocator ()"><span class="type">SoupChunkAllocator</span></a> allocator</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>,
                                                         <em class="parameter"><code><span class="type">GDestroyNotify</span> destroy_notify</code></em>);

<span class="returnvalue">void</span>                <a class="link" href="SoupMessage.html#soup-message-disable-feature" title="soup_message_disable_feature ()">soup_message_disable_feature</a>        (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>,
                                                         <em class="parameter"><code><span class="type">GType</span> feature_type</code></em>);

#define             <a class="link" href="SoupMessage.html#SOUP-MESSAGE-METHOD:CAPS" title="SOUP_MESSAGE_METHOD">SOUP_MESSAGE_METHOD</a>
#define             <a class="link" href="SoupMessage.html#SOUP-MESSAGE-URI:CAPS" title="SOUP_MESSAGE_URI">SOUP_MESSAGE_URI</a>
#define             <a class="link" href="SoupMessage.html#SOUP-MESSAGE-HTTP-VERSION:CAPS" title="SOUP_MESSAGE_HTTP_VERSION">SOUP_MESSAGE_HTTP_VERSION</a>
#define             <a class="link" href="SoupMessage.html#SOUP-MESSAGE-FLAGS:CAPS" title="SOUP_MESSAGE_FLAGS">SOUP_MESSAGE_FLAGS</a>
#define             <a class="link" href="SoupMessage.html#SOUP-MESSAGE-STATUS-CODE:CAPS" title="SOUP_MESSAGE_STATUS_CODE">SOUP_MESSAGE_STATUS_CODE</a>
#define             <a class="link" href="SoupMessage.html#SOUP-MESSAGE-REASON-PHRASE:CAPS" title="SOUP_MESSAGE_REASON_PHRASE">SOUP_MESSAGE_REASON_PHRASE</a>
#define             <a class="link" href="SoupMessage.html#SOUP-MESSAGE-SERVER-SIDE:CAPS" title="SOUP_MESSAGE_SERVER_SIDE">SOUP_MESSAGE_SERVER_SIDE</a>
</pre>
</div>
<div class="refsect1" title="Object Hierarchy">
<a name="SoupMessage.object-hierarchy"></a><h2>Object Hierarchy</h2>
<pre class="synopsis">
  GObject
   +----SoupMessage
</pre>
</div>
<div class="refsect1" title="Properties">
<a name="SoupMessage.properties"></a><h2>Properties</h2>
<pre class="synopsis">
  "<a class="link" href="SoupMessage.html#SoupMessage--first-party" title='The "first-party" property'>first-party</a>"              <a class="link" href="libsoup-2.4-SoupURI.html#SoupURI" title="SoupURI"><span class="type">SoupURI</span></a>*              : Read / Write
  "<a class="link" href="SoupMessage.html#SoupMessage--flags" title='The "flags" property'>flags</a>"                    <a class="link" href="SoupMessage.html#SoupMessageFlags" title="enum SoupMessageFlags"><span class="type">SoupMessageFlags</span></a>      : Read / Write
  "<a class="link" href="SoupMessage.html#SoupMessage--http-version" title='The "http-version" property'>http-version</a>"             <a class="link" href="SoupMessage.html#SoupHTTPVersion" title="enum SoupHTTPVersion"><span class="type">SoupHTTPVersion</span></a>       : Read / Write
  "<a class="link" href="SoupMessage.html#SoupMessage--method" title='The "method" property'>method</a>"                   <span class="type">gchar</span>*                : Read / Write
  "<a class="link" href="SoupMessage.html#SoupMessage--reason-phrase" title='The "reason-phrase" property'>reason-phrase</a>"            <span class="type">gchar</span>*                : Read / Write
  "<a class="link" href="SoupMessage.html#SoupMessage--request-body" title='The "request-body" property'>request-body</a>"             <a class="link" href="libsoup-2.4-SoupMessageBody.html#SoupMessageBody" title="SoupMessageBody"><span class="type">SoupMessageBody</span></a>*      : Read
  "<a class="link" href="SoupMessage.html#SoupMessage--request-headers" title='The "request-headers" property'>request-headers</a>"          <a class="link" href="libsoup-2.4-SoupMessageHeaders.html#SoupMessageHeaders" title="SoupMessageHeaders"><span class="type">SoupMessageHeaders</span></a>*   : Read
  "<a class="link" href="SoupMessage.html#SoupMessage--response-body" title='The "response-body" property'>response-body</a>"            <a class="link" href="libsoup-2.4-SoupMessageBody.html#SoupMessageBody" title="SoupMessageBody"><span class="type">SoupMessageBody</span></a>*      : Read
  "<a class="link" href="SoupMessage.html#SoupMessage--response-headers" title='The "response-headers" property'>response-headers</a>"         <a class="link" href="libsoup-2.4-SoupMessageHeaders.html#SoupMessageHeaders" title="SoupMessageHeaders"><span class="type">SoupMessageHeaders</span></a>*   : Read
  "<a class="link" href="SoupMessage.html#SoupMessage--server-side" title='The "server-side" property'>server-side</a>"              <span class="type">gboolean</span>              : Read / Write / Construct Only
  "<a class="link" href="SoupMessage.html#SoupMessage--status-code" title='The "status-code" property'>status-code</a>"              <span class="type">guint</span>                 : Read / Write
  "<a class="link" href="SoupMessage.html#SoupMessage--tls-certificate" title='The "tls-certificate" property'>tls-certificate</a>"          <span class="type">GTlsCertificate</span>*      : Read / Write
  "<a class="link" href="SoupMessage.html#SoupMessage--tls-errors" title='The "tls-errors" property'>tls-errors</a>"               <span class="type">GTlsCertificateFlags</span>  : Read / Write
  "<a class="link" href="SoupMessage.html#SoupMessage--uri" title='The "uri" property'>uri</a>"                      <a class="link" href="libsoup-2.4-SoupURI.html#SoupURI" title="SoupURI"><span class="type">SoupURI</span></a>*              : Read / Write
</pre>
</div>
<div class="refsect1" title="Signals">
<a name="SoupMessage.signals"></a><h2>Signals</h2>
<pre class="synopsis">
  "<a class="link" href="SoupMessage.html#SoupMessage-content-sniffed" title='The "content-sniffed" signal'>content-sniffed</a>"                                : Run First
  "<a class="link" href="SoupMessage.html#SoupMessage-finished" title='The "finished" signal'>finished</a>"                                       : Run First
  "<a class="link" href="SoupMessage.html#SoupMessage-got-body" title='The "got-body" signal'>got-body</a>"                                       : Run First
  "<a class="link" href="SoupMessage.html#SoupMessage-got-chunk" title='The "got-chunk" signal'>got-chunk</a>"                                      : Run First
  "<a class="link" href="SoupMessage.html#SoupMessage-got-headers" title='The "got-headers" signal'>got-headers</a>"                                    : Run First
  "<a class="link" href="SoupMessage.html#SoupMessage-got-informational" title='The "got-informational" signal'>got-informational</a>"                              : Run First
  "<a class="link" href="SoupMessage.html#SoupMessage-restarted" title='The "restarted" signal'>restarted</a>"                                      : Run First
  "<a class="link" href="SoupMessage.html#SoupMessage-wrote-body" title='The "wrote-body" signal'>wrote-body</a>"                                     : Run First
  "<a class="link" href="SoupMessage.html#SoupMessage-wrote-body-data" title='The "wrote-body-data" signal'>wrote-body-data</a>"                                : Run First
  "<a class="link" href="SoupMessage.html#SoupMessage-wrote-chunk" title='The "wrote-chunk" signal'>wrote-chunk</a>"                                    : Run First
  "<a class="link" href="SoupMessage.html#SoupMessage-wrote-headers" title='The "wrote-headers" signal'>wrote-headers</a>"                                  : Run First
  "<a class="link" href="SoupMessage.html#SoupMessage-wrote-informational" title='The "wrote-informational" signal'>wrote-informational</a>"                            : Run First
</pre>
</div>
<div class="refsect1" title="Description">
<a name="SoupMessage.description"></a><h2>Description</h2>
<p>
A <a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> represents an HTTP message that is being sent or
received.
</p>
<p>
For client-side usage, you would create a <a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> with
<a class="link" href="SoupMessage.html#soup-message-new" title="soup_message_new ()"><code class="function">soup_message_new()</code></a> or <a class="link" href="SoupMessage.html#soup-message-new-from-uri" title="soup_message_new_from_uri ()"><code class="function">soup_message_new_from_uri()</code></a>, set up its
fields appropriate, and send it via a <a class="link" href="SoupSession.html" title="SoupSession"><span class="type">SoupSession</span></a>.
</p>
<p>
For server-side usage, <a class="link" href="SoupServer.html" title="SoupServer"><span class="type">SoupServer</span></a> will create <a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a>s automatically for incoming requests, which your application
will receive via handlers.
</p>
<p>
Note that libsoup's terminology here does not quite match the HTTP
specification: in RFC 2616, an "HTTP-message" is
<span class="emphasis"><em>either</em></span> a Request, <span class="emphasis"><em>or</em></span> a
Response. In libsoup, a <a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> combines both the request and
the response.
</p>
</div>
<div class="refsect1" title="Details">
<a name="SoupMessage.details"></a><h2>Details</h2>
<div class="refsect2" title="SoupMessage">
<a name="SoupMessage-struct"></a><h3>SoupMessage</h3>
<pre class="programlisting">typedef struct {
	const char         *method;

	guint               status_code;
	char               *reason_phrase;

	SoupMessageBody    *request_body;
	SoupMessageHeaders *request_headers;

	SoupMessageBody    *response_body;
	SoupMessageHeaders *response_headers;
} SoupMessage;
</pre>
<p>
Represents an HTTP message being sent or received.
</p>
<p>
<em class="parameter"><code>status_code</code></em> will normally be a <a class="link" href="libsoup-2.4-soup-status.html#SoupKnownStatusCode" title="enum SoupKnownStatusCode"><span class="type">SoupKnownStatusCode</span></a>, eg,
<a class="link" href="libsoup-2.4-soup-status.html#SOUP-STATUS-OK:CAPS"><code class="literal">SOUP_STATUS_OK</code></a>, though of course it might actually be an unknown
status code. <em class="parameter"><code>reason_phrase</code></em> is the actual text returned from the
server, which may or may not correspond to the "standard"
description of <em class="parameter"><code>status_code</code></em>. At any rate, it is almost certainly
not localized, and not very descriptive even if it is in the user's
language; you should not use <em class="parameter"><code>reason_phrase</code></em> in user-visible
messages. Rather, you should look at <em class="parameter"><code>status_code</code></em>, and determine an
end-user-appropriate message based on that and on what you were
trying to do.
</p>
<p>
As described in the <a class="link" href="libsoup-2.4-SoupMessageBody.html#SoupMessageBody" title="SoupMessageBody"><span class="type">SoupMessageBody</span></a> documentation, the
<em class="parameter"><code>request_body</code></em> and <em class="parameter"><code>response_body</code></em> <code class="literal">data</code> fields will not necessarily
be filled in at all times. When they are filled in, they will be
terminated with a '\0' byte (which is not included in the <code class="literal">length</code>),
so you can use them as ordinary C strings (assuming that you know
that the body doesn't have any other '\0' bytes).
</p>
<p>
For a client-side <a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a>, <em class="parameter"><code>request_body</code></em>'s <code class="literal">data</code> is usually
filled in right before libsoup writes the request to the network,
but you should not count on this; use <a class="link" href="libsoup-2.4-SoupMessageBody.html#soup-message-body-flatten" title="soup_message_body_flatten ()"><code class="function">soup_message_body_flatten()</code></a>
if you want to ensure that <code class="literal">data</code> is filled in. <em class="parameter"><code>response_body</code></em>'s
<code class="literal">data</code> will be filled in before <a class="link" href="SoupMessage.html#SoupMessage-finished" title='The "finished" signal'><span class="type">"finished"</span></a> is emitted.
</p>
<p>
For a server-side <a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a>, <em class="parameter"><code>request_body</code></em>'s <code class="literal">data</code> will be
filled in before <a class="link" href="SoupMessage.html#SoupMessage-got-body" title='The "got-body" signal'><span class="type">"got_body"</span></a> is emitted.
</p>
<p>
To prevent the <code class="literal">data</code> field from being filled in at all (eg, if you
are handling the data from a <a class="link" href="SoupMessage.html#SoupMessage-got-chunk" title='The "got-chunk" signal'><span class="type">"got_chunk"</span></a>, and so don't
need to see it all at the end), call
<a class="link" href="libsoup-2.4-SoupMessageBody.html#soup-message-body-set-accumulate" title="soup_message_body_set_accumulate ()"><code class="function">soup_message_body_set_accumulate()</code></a> on <em class="parameter"><code>response_body</code></em> or
<em class="parameter"><code>request_body</code></em> as appropriate, passing <code class="literal">FALSE</code>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term">const <span class="type">char</span> *<em class="structfield"><code><a name="SoupMessage-struct.method"></a>method</code></em>;</span></p></td>
<td>the HTTP method
</td>
</tr>
<tr>
<td><p><span class="term"><span class="type">guint</span> <em class="structfield"><code><a name="SoupMessage-struct.status-code"></a>status_code</code></em>;</span></p></td>
<td>the HTTP status code
</td>
</tr>
<tr>
<td><p><span class="term"><span class="type">char</span> *<em class="structfield"><code><a name="SoupMessage-struct.reason-phrase"></a>reason_phrase</code></em>;</span></p></td>
<td>the status phrase associated with <em class="parameter"><code>status_code</code></em>
</td>
</tr>
<tr>
<td><p><span class="term"><a class="link" href="libsoup-2.4-SoupMessageBody.html#SoupMessageBody" title="SoupMessageBody"><span class="type">SoupMessageBody</span></a> *<em class="structfield"><code><a name="SoupMessage-struct.request-body"></a>request_body</code></em>;</span></p></td>
<td>the request body
</td>
</tr>
<tr>
<td><p><span class="term"><a class="link" href="libsoup-2.4-SoupMessageHeaders.html#SoupMessageHeaders" title="SoupMessageHeaders"><span class="type">SoupMessageHeaders</span></a> *<em class="structfield"><code><a name="SoupMessage-struct.request-headers"></a>request_headers</code></em>;</span></p></td>
<td>the request headers
</td>
</tr>
<tr>
<td><p><span class="term"><a class="link" href="libsoup-2.4-SoupMessageBody.html#SoupMessageBody" title="SoupMessageBody"><span class="type">SoupMessageBody</span></a> *<em class="structfield"><code><a name="SoupMessage-struct.response-body"></a>response_body</code></em>;</span></p></td>
<td>the response body
</td>
</tr>
<tr>
<td><p><span class="term"><a class="link" href="libsoup-2.4-SoupMessageHeaders.html#SoupMessageHeaders" title="SoupMessageHeaders"><span class="type">SoupMessageHeaders</span></a> *<em class="structfield"><code><a name="SoupMessage-struct.response-headers"></a>response_headers</code></em>;</span></p></td>
<td>the response headers
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="soup_message_new ()">
<a name="soup-message-new"></a><h3>soup_message_new ()</h3>
<pre class="programlisting"><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="returnvalue">SoupMessage</span></a> *       soup_message_new                    (<em class="parameter"><code>const <span class="type">char</span> *method</code></em>,
                                                         <em class="parameter"><code>const <span class="type">char</span> *uri_string</code></em>);</pre>
<p>
Creates a new empty <a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a>, which will connect to <em class="parameter"><code>uri</code></em>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>method</code></em> :</span></p></td>
<td>the HTTP method for the created request
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>uri_string</code></em> :</span></p></td>
<td>the destination endpoint (as a string)
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> the new <a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> (or <code class="literal">NULL</code> if <em class="parameter"><code>uri</code></em> could not
be parsed).
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="soup_message_new_from_uri ()">
<a name="soup-message-new-from-uri"></a><h3>soup_message_new_from_uri ()</h3>
<pre class="programlisting"><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="returnvalue">SoupMessage</span></a> *       soup_message_new_from_uri           (<em class="parameter"><code>const <span class="type">char</span> *method</code></em>,
                                                         <em class="parameter"><code><a class="link" href="libsoup-2.4-SoupURI.html#SoupURI" title="SoupURI"><span class="type">SoupURI</span></a> *uri</code></em>);</pre>
<p>
Creates a new empty <a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a>, which will connect to <em class="parameter"><code>uri</code></em>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>method</code></em> :</span></p></td>
<td>the HTTP method for the created request
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>uri</code></em> :</span></p></td>
<td>the destination endpoint (as a <a class="link" href="libsoup-2.4-SoupURI.html#SoupURI" title="SoupURI"><span class="type">SoupURI</span></a>)
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> the new <a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="soup_message_set_request ()">
<a name="soup-message-set-request"></a><h3>soup_message_set_request ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                soup_message_set_request            (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>,
                                                         <em class="parameter"><code>const <span class="type">char</span> *content_type</code></em>,
                                                         <em class="parameter"><code><a class="link" href="libsoup-2.4-SoupMessageBody.html#SoupMemoryUse" title="enum SoupMemoryUse"><span class="type">SoupMemoryUse</span></a> req_use</code></em>,
                                                         <em class="parameter"><code>const <span class="type">char</span> *req_body</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> req_length</code></em>);</pre>
<p>
Convenience function to set the request body of a <a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a>. If
<em class="parameter"><code>content_type</code></em> is <code class="literal">NULL</code>, the request body must be empty as well.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>msg</code></em> :</span></p></td>
<td>the message
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>content_type</code></em> :</span></p></td>
<td>MIME Content-Type of the body
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>req_use</code></em> :</span></p></td>
<td>a <a class="link" href="libsoup-2.4-SoupMessageBody.html#SoupMemoryUse" title="enum SoupMemoryUse"><span class="type">SoupMemoryUse</span></a> describing how to handle <em class="parameter"><code>req_body</code></em>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>req_body</code></em> :</span></p></td>
<td>a data buffer containing the body of the message request.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>req_length</code></em> :</span></p></td>
<td>the byte length of <em class="parameter"><code>req_body</code></em>.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="soup_message_set_response ()">
<a name="soup-message-set-response"></a><h3>soup_message_set_response ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                soup_message_set_response           (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>,
                                                         <em class="parameter"><code>const <span class="type">char</span> *content_type</code></em>,
                                                         <em class="parameter"><code><a class="link" href="libsoup-2.4-SoupMessageBody.html#SoupMemoryUse" title="enum SoupMemoryUse"><span class="type">SoupMemoryUse</span></a> resp_use</code></em>,
                                                         <em class="parameter"><code>const <span class="type">char</span> *resp_body</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> resp_length</code></em>);</pre>
<p>
Convenience function to set the response body of a <a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a>. If
<em class="parameter"><code>content_type</code></em> is <code class="literal">NULL</code>, the response body must be empty as well.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>msg</code></em> :</span></p></td>
<td>the message
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>content_type</code></em> :</span></p></td>
<td> MIME Content-Type of the body. <span class="annotation">[<acronym title="NULL is ok, both for passing and for returning."><span class="acronym">allow-none</span></acronym>]</span>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>resp_use</code></em> :</span></p></td>
<td>a <a class="link" href="libsoup-2.4-SoupMessageBody.html#SoupMemoryUse" title="enum SoupMemoryUse"><span class="type">SoupMemoryUse</span></a> describing how to handle <em class="parameter"><code>resp_body</code></em>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>resp_body</code></em> :</span></p></td>
<td> a data buffer
containing the body of the message response. <span class="annotation">[<acronym title="Parameter points to an array of items."><span class="acronym">array</span></acronym> length=resp_length][<acronym title="Generics and defining elements of containers and arrays."><span class="acronym">element-type</span></acronym> guint8]</span>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>resp_length</code></em> :</span></p></td>
<td>the byte length of <em class="parameter"><code>resp_body</code></em>.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="enum SoupHTTPVersion">
<a name="SoupHTTPVersion"></a><h3>enum SoupHTTPVersion</h3>
<pre class="programlisting">typedef enum {
	SOUP_HTTP_1_0 = 0, /*&lt; nick=http-1-0 &gt;*/
	SOUP_HTTP_1_1 = 1  /*&lt; nick=http-1-1 &gt;*/
} SoupHTTPVersion;
</pre>
<p>
Indicates the HTTP protocol version being used.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><a name="SOUP-HTTP-1-0:CAPS"></a><span class="term"><code class="literal">SOUP_HTTP_1_0</code></span></p></td>
<td>HTTP 1.0 (RFC 1945)
</td>
</tr>
<tr>
<td><p><a name="SOUP-HTTP-1-1:CAPS"></a><span class="term"><code class="literal">SOUP_HTTP_1_1</code></span></p></td>
<td>HTTP 1.1 (RFC 2616)
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="soup_message_set_http_version ()">
<a name="soup-message-set-http-version"></a><h3>soup_message_set_http_version ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                soup_message_set_http_version       (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>,
                                                         <em class="parameter"><code><a class="link" href="SoupMessage.html#SoupHTTPVersion" title="enum SoupHTTPVersion"><span class="type">SoupHTTPVersion</span></a> version</code></em>);</pre>
<p>
Sets the HTTP version on <em class="parameter"><code>msg</code></em>. The default version is
<a class="link" href="SoupMessage.html#SOUP-HTTP-1-1:CAPS"><code class="literal">SOUP_HTTP_1_1</code></a>. Setting it to <a class="link" href="SoupMessage.html#SOUP-HTTP-1-0:CAPS"><code class="literal">SOUP_HTTP_1_0</code></a> will prevent certain
functionality from being used.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>msg</code></em> :</span></p></td>
<td>a <a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>version</code></em> :</span></p></td>
<td>the HTTP version
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="soup_message_get_http_version ()">
<a name="soup-message-get-http-version"></a><h3>soup_message_get_http_version ()</h3>
<pre class="programlisting"><a class="link" href="SoupMessage.html#SoupHTTPVersion" title="enum SoupHTTPVersion"><span class="returnvalue">SoupHTTPVersion</span></a>     soup_message_get_http_version       (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>);</pre>
<p>
Gets the HTTP version of <em class="parameter"><code>msg</code></em>. This is the minimum of the
version from the request and the version from the response.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>msg</code></em> :</span></p></td>
<td>a <a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> the HTTP version
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="soup_message_get_uri ()">
<a name="soup-message-get-uri"></a><h3>soup_message_get_uri ()</h3>
<pre class="programlisting"><a class="link" href="libsoup-2.4-SoupURI.html#SoupURI" title="SoupURI"><span class="returnvalue">SoupURI</span></a> *           soup_message_get_uri                (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>);</pre>
<p>
Gets <em class="parameter"><code>msg</code></em>'s URI
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>msg</code></em> :</span></p></td>
<td>a <a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> the URI <em class="parameter"><code>msg</code></em> is targeted for. <span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>]</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="soup_message_set_uri ()">
<a name="soup-message-set-uri"></a><h3>soup_message_set_uri ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                soup_message_set_uri                (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>,
                                                         <em class="parameter"><code><a class="link" href="libsoup-2.4-SoupURI.html#SoupURI" title="SoupURI"><span class="type">SoupURI</span></a> *uri</code></em>);</pre>
<p>
Sets <em class="parameter"><code>msg</code></em>'s URI to <em class="parameter"><code>uri</code></em>. If <em class="parameter"><code>msg</code></em> has already been sent and you want
to re-send it with the new URI, you need to call
<a class="link" href="SoupSession.html#soup-session-requeue-message" title="soup_session_requeue_message ()"><code class="function">soup_session_requeue_message()</code></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>msg</code></em> :</span></p></td>
<td>a <a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>uri</code></em> :</span></p></td>
<td>the new <a class="link" href="libsoup-2.4-SoupURI.html#SoupURI" title="SoupURI"><span class="type">SoupURI</span></a>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="soup_message_get_address ()">
<a name="soup-message-get-address"></a><h3>soup_message_get_address ()</h3>
<pre class="programlisting"><a class="link" href="SoupAddress.html" title="SoupAddress"><span class="returnvalue">SoupAddress</span></a> *       soup_message_get_address            (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>);</pre>
<p>
Gets the address <em class="parameter"><code>msg</code></em>'s URI points to. After first setting the
URI on a message, this will be unresolved, although the message's
session will resolve it before sending the message.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>msg</code></em> :</span></p></td>
<td>a <a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> the address <em class="parameter"><code>msg</code></em>'s URI points to. <span class="annotation">[<acronym title="Don't free data after the code is done."><span class="acronym">transfer none</span></acronym>]</span>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 2.26</p>
</div>
<hr>
<div class="refsect2" title="soup_message_set_status ()">
<a name="soup-message-set-status"></a><h3>soup_message_set_status ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                soup_message_set_status             (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> status_code</code></em>);</pre>
<p>
Sets <em class="parameter"><code>msg</code></em>'s status code to <em class="parameter"><code>status_code</code></em>. If <em class="parameter"><code>status_code</code></em> is a
known value, it will also set <em class="parameter"><code>msg</code></em>'s reason_phrase.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>msg</code></em> :</span></p></td>
<td>a <a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>status_code</code></em> :</span></p></td>
<td>an HTTP status code
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="soup_message_set_status_full ()">
<a name="soup-message-set-status-full"></a><h3>soup_message_set_status_full ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                soup_message_set_status_full        (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> status_code</code></em>,
                                                         <em class="parameter"><code>const <span class="type">char</span> *reason_phrase</code></em>);</pre>
<p>
Sets <em class="parameter"><code>msg</code></em>'s status code and reason phrase.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>msg</code></em> :</span></p></td>
<td>a <a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>status_code</code></em> :</span></p></td>
<td>an HTTP status code
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>reason_phrase</code></em> :</span></p></td>
<td>a description of the status
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="soup_message_is_keepalive ()">
<a name="soup-message-is-keepalive"></a><h3>soup_message_is_keepalive ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>            soup_message_is_keepalive           (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>);</pre>
<p>
Determines whether or not <em class="parameter"><code>msg</code></em>'s connection can be kept alive for
further requests after processing <em class="parameter"><code>msg</code></em>, based on the HTTP version,
Connection header, etc.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>msg</code></em> :</span></p></td>
<td>a <a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> <code class="literal">TRUE</code> or <code class="literal">FALSE</code>.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="soup_message_add_header_handler ()">
<a name="soup-message-add-header-handler"></a><h3>soup_message_add_header_handler ()</h3>
<pre class="programlisting"><span class="returnvalue">guint</span>               soup_message_add_header_handler     (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>,
                                                         <em class="parameter"><code>const <span class="type">char</span> *signal</code></em>,
                                                         <em class="parameter"><code>const <span class="type">char</span> *header</code></em>,
                                                         <em class="parameter"><code><span class="type">GCallback</span> callback</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>);</pre>
<p>
Adds a signal handler to <em class="parameter"><code>msg</code></em> for <em class="parameter"><code>signal</code></em>, as with
<code class="function">g_signal_connect()</code>, but with two differences: the <em class="parameter"><code>callback</code></em> will
only be run if <em class="parameter"><code>msg</code></em> has a header named <em class="parameter"><code>header</code></em>, and it will only be
run if no earlier handler cancelled or requeued the message.
</p>
<p>
If <em class="parameter"><code>signal</code></em> is one of the "got" signals (eg, "got_headers"), or
"finished" or "restarted", then <em class="parameter"><code>header</code></em> is matched against the
incoming message headers (that is, the <span class="type">request_headers</span> for a
client <a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a>, or the <span class="type">response_headers</span> for a server
<a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a>). If <em class="parameter"><code>signal</code></em> is one of the "wrote" signals, then
<em class="parameter"><code>header</code></em> is matched against the outgoing message headers.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>msg</code></em> :</span></p></td>
<td>a <a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>signal</code></em> :</span></p></td>
<td>signal to connect the handler to.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>header</code></em> :</span></p></td>
<td>HTTP response header to match against
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em> :</span></p></td>
<td>the header handler
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>data to pass to <em class="parameter"><code>handler_cb</code></em>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> the handler ID from <code class="function">g_signal_connect()</code>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="soup_message_add_status_code_handler ()">
<a name="soup-message-add-status-code-handler"></a><h3>soup_message_add_status_code_handler ()</h3>
<pre class="programlisting"><span class="returnvalue">guint</span>               soup_message_add_status_code_handler
                                                        (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>,
                                                         <em class="parameter"><code>const <span class="type">char</span> *signal</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> status_code</code></em>,
                                                         <em class="parameter"><code><span class="type">GCallback</span> callback</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>);</pre>
<p>
Adds a signal handler to <em class="parameter"><code>msg</code></em> for <em class="parameter"><code>signal</code></em>, as with
<code class="function">g_signal_connect()</code> but with two differences: the <em class="parameter"><code>callback</code></em> will
only be run if <em class="parameter"><code>msg</code></em> has the status <em class="parameter"><code>status_code</code></em>, and it will only
be run if no earlier handler cancelled or requeued the message.
</p>
<p>
<em class="parameter"><code>signal</code></em> must be a signal that will be emitted after <em class="parameter"><code>msg</code></em>'s status
is set. For a client <a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a>, this means it can't be a "wrote"
signal. For a server <a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a>, this means it can't be a "got"
signal.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>msg</code></em> :</span></p></td>
<td>a <a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>signal</code></em> :</span></p></td>
<td>signal to connect the handler to.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>status_code</code></em> :</span></p></td>
<td>status code to match against
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>callback</code></em> :</span></p></td>
<td>the header handler
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>data to pass to <em class="parameter"><code>handler_cb</code></em>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> the handler ID from <code class="function">g_signal_connect()</code>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="enum SoupMessageFlags">
<a name="SoupMessageFlags"></a><h3>enum SoupMessageFlags</h3>
<pre class="programlisting">typedef enum {
	SOUP_MESSAGE_NO_REDIRECT          = (1 &lt;&lt; 1),
#ifndef LIBSOUP_DISABLE_DEPRECATED
	SOUP_MESSAGE_OVERWRITE_CHUNKS     = (1 &lt;&lt; 3),
#endif
	SOUP_MESSAGE_CONTENT_DECODED      = (1 &lt;&lt; 4),
	SOUP_MESSAGE_CERTIFICATE_TRUSTED  = (1 &lt;&lt; 5)
} SoupMessageFlags;
</pre>
<p>
Various flags that can be set on a <a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> to alter its
behavior.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><a name="SOUP-MESSAGE-NO-REDIRECT:CAPS"></a><span class="term"><code class="literal">SOUP_MESSAGE_NO_REDIRECT</code></span></p></td>
<td>The session should not follow redirect
(3xx) responses received by this message.
</td>
</tr>
<tr>
<td><p><a name="SOUP-MESSAGE-OVERWRITE-CHUNKS:CAPS"></a><span class="term"><code class="literal">SOUP_MESSAGE_OVERWRITE_CHUNKS</code></span></p></td>
<td>Deprecated: equivalent to calling
<a class="link" href="libsoup-2.4-SoupMessageBody.html#soup-message-body-set-accumulate" title="soup_message_body_set_accumulate ()"><code class="function">soup_message_body_set_accumulate()</code></a> on the incoming message body
(ie, <code class="literal">response_body</code> for a client-side request), passing <code class="literal">FALSE</code>.
</td>
</tr>
<tr>
<td><p><a name="SOUP-MESSAGE-CONTENT-DECODED:CAPS"></a><span class="term"><code class="literal">SOUP_MESSAGE_CONTENT_DECODED</code></span></p></td>
<td>Set by <span class="type">SoupContentDecoder</span> to
indicate that it has removed the Content-Encoding on a message (and
so headers such as Content-Length may no longer accurately describe
the body).
</td>
</tr>
<tr>
<td><p><a name="SOUP-MESSAGE-CERTIFICATE-TRUSTED:CAPS"></a><span class="term"><code class="literal">SOUP_MESSAGE_CERTIFICATE_TRUSTED</code></span></p></td>
<td>if <code class="literal">TRUE</code> after an https response
has been received, indicates that the server's SSL certificate is
trusted according to the session's CA.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="soup_message_set_flags ()">
<a name="soup-message-set-flags"></a><h3>soup_message_set_flags ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                soup_message_set_flags              (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>,
                                                         <em class="parameter"><code><a class="link" href="SoupMessage.html#SoupMessageFlags" title="enum SoupMessageFlags"><span class="type">SoupMessageFlags</span></a> flags</code></em>);</pre>
<p>
Sets the specified flags on <em class="parameter"><code>msg</code></em>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>msg</code></em> :</span></p></td>
<td>a <a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>flags</code></em> :</span></p></td>
<td>a set of <a class="link" href="SoupMessage.html#SoupMessageFlags" title="enum SoupMessageFlags"><span class="type">SoupMessageFlags</span></a> values
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="soup_message_get_flags ()">
<a name="soup-message-get-flags"></a><h3>soup_message_get_flags ()</h3>
<pre class="programlisting"><a class="link" href="SoupMessage.html#SoupMessageFlags" title="enum SoupMessageFlags"><span class="returnvalue">SoupMessageFlags</span></a>    soup_message_get_flags              (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>);</pre>
<p>
Gets the flags on <em class="parameter"><code>msg</code></em>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>msg</code></em> :</span></p></td>
<td>a <a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> the flags
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="SoupChunkAllocator ()">
<a name="SoupChunkAllocator"></a><h3>SoupChunkAllocator ()</h3>
<pre class="programlisting"><a class="link" href="libsoup-2.4-SoupMessageBody.html#SoupBuffer" title="SoupBuffer"><span class="returnvalue">SoupBuffer</span></a> *        (*SoupChunkAllocator)               (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>,
                                                         <em class="parameter"><code><span class="type">gsize</span> max_len</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>);</pre>
<p>
The prototype for a chunk allocation callback. This should allocate
a new <a class="link" href="libsoup-2.4-SoupMessageBody.html#SoupBuffer" title="SoupBuffer"><span class="type">SoupBuffer</span></a> and return it for the I/O layer to read message
body data off the network into.
</p>
<p>
If <em class="parameter"><code>max_len</code></em> is non-0, it indicates the maximum number of bytes that
could be read, based on what is known about the message size. Note
that this might be a very large number, and you should not simply
try to allocate that many bytes blindly. If <em class="parameter"><code>max_len</code></em> is 0, that
means that libsoup does not know how many bytes remain to be read,
and the allocator should return a buffer of a size that it finds
convenient.
</p>
<p>
If the allocator returns <code class="literal">NULL</code>, the message will be paused. It is
up to the application to make sure that it gets unpaused when it
becomes possible to allocate a new buffer.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>msg</code></em> :</span></p></td>
<td>the <a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> the chunk is being allocated for
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>max_len</code></em> :</span></p></td>
<td>the maximum length that will be read, or 0.
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>the data passed to <a class="link" href="SoupMessage.html#soup-message-set-chunk-allocator" title="soup_message_set_chunk_allocator ()"><code class="function">soup_message_set_chunk_allocator()</code></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td> the new buffer (or <code class="literal">NULL</code>)
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="soup_message_set_chunk_allocator ()">
<a name="soup-message-set-chunk-allocator"></a><h3>soup_message_set_chunk_allocator ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                soup_message_set_chunk_allocator    (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>,
                                                         <em class="parameter"><code><a class="link" href="SoupMessage.html#SoupChunkAllocator" title="SoupChunkAllocator ()"><span class="type">SoupChunkAllocator</span></a> allocator</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>,
                                                         <em class="parameter"><code><span class="type">GDestroyNotify</span> destroy_notify</code></em>);</pre>
<p>
Sets an alternate chunk-allocation function to use when reading
<em class="parameter"><code>msg</code></em>'s body. Every time data is available to read, libsoup will
call <em class="parameter"><code>allocator</code></em>, which should return a <a class="link" href="libsoup-2.4-SoupMessageBody.html#SoupBuffer" title="SoupBuffer"><span class="type">SoupBuffer</span></a>. (See
<a class="link" href="SoupMessage.html#SoupChunkAllocator" title="SoupChunkAllocator ()"><span class="type">SoupChunkAllocator</span></a> for additional details.) Libsoup will then read
data from the network into that buffer, and update the buffer's
<code class="literal">length</code> to indicate how much data it read.
</p>
<p>
Generally, a custom chunk allocator would be used in conjunction
with <a class="link" href="libsoup-2.4-SoupMessageBody.html#soup-message-body-set-accumulate" title="soup_message_body_set_accumulate ()"><code class="function">soup_message_body_set_accumulate()</code></a> <code class="literal">FALSE</code> and
<a class="link" href="SoupMessage.html#SoupMessage-got-chunk" title='The "got-chunk" signal'><span class="type">"got_chunk"</span></a>, as part of a strategy to avoid unnecessary
copying of data. However, you cannot assume that every call to the
allocator will be followed by a call to your <code class="literal">got_chunk</code> handler; if
an I/O error occurs, then the buffer will be unreffed without ever
having been used. If your buffer-allocation strategy requires
special cleanup, use <a class="link" href="libsoup-2.4-SoupMessageBody.html#soup-buffer-new-with-owner" title="soup_buffer_new_with_owner ()"><code class="function">soup_buffer_new_with_owner()</code></a> rather than doing
the cleanup from the <code class="literal">got_chunk</code> handler.
</p>
<p>
The other thing to remember when using non-accumulating message
bodies is that the buffer passed to the <code class="literal">got_chunk</code> handler will be
unreffed after the handler returns, just as it would be in the
non-custom-allocated case. If you want to hand the chunk data off
to some other part of your program to use later, you'll need to ref
the <a class="link" href="libsoup-2.4-SoupMessageBody.html#SoupBuffer" title="SoupBuffer"><span class="type">SoupBuffer</span></a> (or its owner, in the <a class="link" href="libsoup-2.4-SoupMessageBody.html#soup-buffer-new-with-owner" title="soup_buffer_new_with_owner ()"><code class="function">soup_buffer_new_with_owner()</code></a>
case) to ensure that the data remains valid.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>msg</code></em> :</span></p></td>
<td>a <a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>allocator</code></em> :</span></p></td>
<td>the chunk allocator callback
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>data to pass to <em class="parameter"><code>allocator</code></em>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>destroy_notify</code></em> :</span></p></td>
<td>destroy notifier to free <em class="parameter"><code>user_data</code></em> when <em class="parameter"><code>msg</code></em> is
destroyed
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title="soup_message_disable_feature ()">
<a name="soup-message-disable-feature"></a><h3>soup_message_disable_feature ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                soup_message_disable_feature        (<em class="parameter"><code><a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg</code></em>,
                                                         <em class="parameter"><code><span class="type">GType</span> feature_type</code></em>);</pre>
<p>
This disables the actions of <a class="link" href="SoupSessionFeature.html" title="SoupSessionFeature"><span class="type">SoupSessionFeature</span></a>s with the
given <em class="parameter"><code>feature_type</code></em> (or a subclass of that type) on <em class="parameter"><code>msg</code></em>, so that
<em class="parameter"><code>msg</code></em> is processed as though the feature(s) hadn't been added to the
session. Eg, passing <span class="type">SOUP_TYPE_PROXY_RESOLVER</span> for <em class="parameter"><code>feature_type</code></em>
will disable proxy handling and cause <em class="parameter"><code>msg</code></em> to be sent directly to
the indicated origin server, regardless of system proxy
configuration.
</p>
<p>
You must call this before queueing <em class="parameter"><code>msg</code></em> on a session; calling it on
a message that has already been queued is undefined. In particular,
you cannot call this on a message that is being requeued after a
redirect or authentication.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>msg</code></em> :</span></p></td>
<td>a <a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>feature_type</code></em> :</span></p></td>
<td>the <span class="type">GType</span> of a <a class="link" href="SoupSessionFeature.html" title="SoupSessionFeature"><span class="type">SoupSessionFeature</span></a>
</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 2.28</p>
</div>
<hr>
<div class="refsect2" title="SOUP_MESSAGE_METHOD">
<a name="SOUP-MESSAGE-METHOD:CAPS"></a><h3>SOUP_MESSAGE_METHOD</h3>
<pre class="programlisting">#define SOUP_MESSAGE_METHOD           "method"
</pre>
<p>
Alias for the <a class="link" href="SoupMessage.html#SoupMessage--method" title='The "method" property'><span class="type">"method"</span></a> property. (The message's
HTTP method.)
</p>
</div>
<hr>
<div class="refsect2" title="SOUP_MESSAGE_URI">
<a name="SOUP-MESSAGE-URI:CAPS"></a><h3>SOUP_MESSAGE_URI</h3>
<pre class="programlisting">#define SOUP_MESSAGE_URI              "uri"
</pre>
<p>
Alias for the <a class="link" href="SoupMessage.html#SoupMessage--uri" title='The "uri" property'><span class="type">"uri"</span></a> property. (The message's
<a class="link" href="libsoup-2.4-SoupURI.html#SoupURI" title="SoupURI"><span class="type">SoupURI</span></a>.)
</p>
</div>
<hr>
<div class="refsect2" title="SOUP_MESSAGE_HTTP_VERSION">
<a name="SOUP-MESSAGE-HTTP-VERSION:CAPS"></a><h3>SOUP_MESSAGE_HTTP_VERSION</h3>
<pre class="programlisting">#define SOUP_MESSAGE_HTTP_VERSION     "http-version"
</pre>
<p>
Alias for the <a class="link" href="SoupMessage.html#SoupMessage--http-version" title='The "http-version" property'><span class="type">"http-version"</span></a> property. (The
message's <a class="link" href="SoupMessage.html#SoupHTTPVersion" title="enum SoupHTTPVersion"><span class="type">SoupHTTPVersion</span></a>.)
</p>
</div>
<hr>
<div class="refsect2" title="SOUP_MESSAGE_FLAGS">
<a name="SOUP-MESSAGE-FLAGS:CAPS"></a><h3>SOUP_MESSAGE_FLAGS</h3>
<pre class="programlisting">#define SOUP_MESSAGE_FLAGS            "flags"
</pre>
<p>
Alias for the <a class="link" href="SoupMessage.html#SoupMessage--flags" title='The "flags" property'><span class="type">"flags"</span></a> property. (The message's
<a class="link" href="SoupMessage.html#SoupMessageFlags" title="enum SoupMessageFlags"><span class="type">SoupMessageFlags</span></a>.)
</p>
</div>
<hr>
<div class="refsect2" title="SOUP_MESSAGE_STATUS_CODE">
<a name="SOUP-MESSAGE-STATUS-CODE:CAPS"></a><h3>SOUP_MESSAGE_STATUS_CODE</h3>
<pre class="programlisting">#define SOUP_MESSAGE_STATUS_CODE      "status-code"
</pre>
<p>
Alias for the <a class="link" href="SoupMessage.html#SoupMessage--status-code" title='The "status-code" property'><span class="type">"status-code"</span></a> property. (The
message's HTTP response status code.)
</p>
</div>
<hr>
<div class="refsect2" title="SOUP_MESSAGE_REASON_PHRASE">
<a name="SOUP-MESSAGE-REASON-PHRASE:CAPS"></a><h3>SOUP_MESSAGE_REASON_PHRASE</h3>
<pre class="programlisting">#define SOUP_MESSAGE_REASON_PHRASE    "reason-phrase"
</pre>
<p>
Alias for the <a class="link" href="SoupMessage.html#SoupMessage--reason-phrase" title='The "reason-phrase" property'><span class="type">"reason-phrase"</span></a> property. (The
message's HTTP response reason phrase.)
</p>
</div>
<hr>
<div class="refsect2" title="SOUP_MESSAGE_SERVER_SIDE">
<a name="SOUP-MESSAGE-SERVER-SIDE:CAPS"></a><h3>SOUP_MESSAGE_SERVER_SIDE</h3>
<pre class="programlisting">#define SOUP_MESSAGE_SERVER_SIDE      "server-side"
</pre>
<p>
Alias for the <a class="link" href="SoupMessage.html#SoupMessage--server-side" title='The "server-side" property'><span class="type">"server-side"</span></a> property. (<code class="literal">TRUE</code> if
the message was created by <a class="link" href="SoupServer.html" title="SoupServer"><span class="type">SoupServer</span></a>.)
</p>
</div>
</div>
<div class="refsect1" title="Property Details">
<a name="SoupMessage.property-details"></a><h2>Property Details</h2>
<div class="refsect2" title='The "first-party" property'>
<a name="SoupMessage--first-party"></a><h3>The <code class="literal">"first-party"</code> property</h3>
<pre class="programlisting">  "first-party"              <a class="link" href="libsoup-2.4-SoupURI.html#SoupURI" title="SoupURI"><span class="type">SoupURI</span></a>*              : Read / Write</pre>
<p>The URI loaded in the application when the message was requested.</p>
</div>
<hr>
<div class="refsect2" title='The "flags" property'>
<a name="SoupMessage--flags"></a><h3>The <code class="literal">"flags"</code> property</h3>
<pre class="programlisting">  "flags"                    <a class="link" href="SoupMessage.html#SoupMessageFlags" title="enum SoupMessageFlags"><span class="type">SoupMessageFlags</span></a>      : Read / Write</pre>
<p>Various message options.</p>
</div>
<hr>
<div class="refsect2" title='The "http-version" property'>
<a name="SoupMessage--http-version"></a><h3>The <code class="literal">"http-version"</code> property</h3>
<pre class="programlisting">  "http-version"             <a class="link" href="SoupMessage.html#SoupHTTPVersion" title="enum SoupHTTPVersion"><span class="type">SoupHTTPVersion</span></a>       : Read / Write</pre>
<p>The HTTP protocol version to use.</p>
<p>Default value: SOUP_HTTP_1_1</p>
</div>
<hr>
<div class="refsect2" title='The "method" property'>
<a name="SoupMessage--method"></a><h3>The <code class="literal">"method"</code> property</h3>
<pre class="programlisting">  "method"                   <span class="type">gchar</span>*                : Read / Write</pre>
<p>The message's HTTP method.</p>
<p>Default value: "GET"</p>
</div>
<hr>
<div class="refsect2" title='The "reason-phrase" property'>
<a name="SoupMessage--reason-phrase"></a><h3>The <code class="literal">"reason-phrase"</code> property</h3>
<pre class="programlisting">  "reason-phrase"            <span class="type">gchar</span>*                : Read / Write</pre>
<p>The HTTP response reason phrase.</p>
<p>Default value: NULL</p>
</div>
<hr>
<div class="refsect2" title='The "request-body" property'>
<a name="SoupMessage--request-body"></a><h3>The <code class="literal">"request-body"</code> property</h3>
<pre class="programlisting">  "request-body"             <a class="link" href="libsoup-2.4-SoupMessageBody.html#SoupMessageBody" title="SoupMessageBody"><span class="type">SoupMessageBody</span></a>*      : Read</pre>
<p>The HTTP request content.</p>
</div>
<hr>
<div class="refsect2" title='The "request-headers" property'>
<a name="SoupMessage--request-headers"></a><h3>The <code class="literal">"request-headers"</code> property</h3>
<pre class="programlisting">  "request-headers"          <a class="link" href="libsoup-2.4-SoupMessageHeaders.html#SoupMessageHeaders" title="SoupMessageHeaders"><span class="type">SoupMessageHeaders</span></a>*   : Read</pre>
<p>The HTTP request headers.</p>
</div>
<hr>
<div class="refsect2" title='The "response-body" property'>
<a name="SoupMessage--response-body"></a><h3>The <code class="literal">"response-body"</code> property</h3>
<pre class="programlisting">  "response-body"            <a class="link" href="libsoup-2.4-SoupMessageBody.html#SoupMessageBody" title="SoupMessageBody"><span class="type">SoupMessageBody</span></a>*      : Read</pre>
<p>The HTTP response content.</p>
</div>
<hr>
<div class="refsect2" title='The "response-headers" property'>
<a name="SoupMessage--response-headers"></a><h3>The <code class="literal">"response-headers"</code> property</h3>
<pre class="programlisting">  "response-headers"         <a class="link" href="libsoup-2.4-SoupMessageHeaders.html#SoupMessageHeaders" title="SoupMessageHeaders"><span class="type">SoupMessageHeaders</span></a>*   : Read</pre>
<p>The HTTP response headers.</p>
</div>
<hr>
<div class="refsect2" title='The "server-side" property'>
<a name="SoupMessage--server-side"></a><h3>The <code class="literal">"server-side"</code> property</h3>
<pre class="programlisting">  "server-side"              <span class="type">gboolean</span>              : Read / Write / Construct Only</pre>
<p>Whether or not the message is server-side rather than client-side.</p>
<p>Default value: FALSE</p>
</div>
<hr>
<div class="refsect2" title='The "status-code" property'>
<a name="SoupMessage--status-code"></a><h3>The <code class="literal">"status-code"</code> property</h3>
<pre class="programlisting">  "status-code"              <span class="type">guint</span>                 : Read / Write</pre>
<p>The HTTP response status code.</p>
<p>Allowed values: &lt;= 599</p>
<p>Default value: 0</p>
</div>
<hr>
<div class="refsect2" title='The "tls-certificate" property'>
<a name="SoupMessage--tls-certificate"></a><h3>The <code class="literal">"tls-certificate"</code> property</h3>
<pre class="programlisting">  "tls-certificate"          <span class="type">GTlsCertificate</span>*      : Read / Write</pre>
<p>The TLS certificate associated with the message.</p>
</div>
<hr>
<div class="refsect2" title='The "tls-errors" property'>
<a name="SoupMessage--tls-errors"></a><h3>The <code class="literal">"tls-errors"</code> property</h3>
<pre class="programlisting">  "tls-errors"               <span class="type">GTlsCertificateFlags</span>  : Read / Write</pre>
<p>The verification errors on the message's TLS certificate.</p>
</div>
<hr>
<div class="refsect2" title='The "uri" property'>
<a name="SoupMessage--uri"></a><h3>The <code class="literal">"uri"</code> property</h3>
<pre class="programlisting">  "uri"                      <a class="link" href="libsoup-2.4-SoupURI.html#SoupURI" title="SoupURI"><span class="type">SoupURI</span></a>*              : Read / Write</pre>
<p>The message's Request-URI.</p>
</div>
</div>
<div class="refsect1" title="Signal Details">
<a name="SoupMessage.signal-details"></a><h2>Signal Details</h2>
<div class="refsect2" title='The "content-sniffed" signal'>
<a name="SoupMessage-content-sniffed"></a><h3>The <code class="literal">"content-sniffed"</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                user_function                      (<a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg,
                                                        <span class="type">gchar</span>       *type,
                                                        <span class="type">GHashTable</span>  *params,
                                                        <span class="type">gpointer</span>     user_data)      : Run First</pre>
<p>
This signal is emitted after <code class="literal">got</code>-headers, and before the
first <code class="literal">got</code>-chunk. If content sniffing is disabled, or no
content sniffing will be performed, due to the sniffer
deciding to trust the Content-Type sent by the server, this
signal is emitted immediately after <code class="literal">got_headers</code>, and <em class="parameter"><code>type</code></em>
is <code class="literal">NULL</code>.
</p>
<p>
If the <a class="link" href="SoupContentSniffer.html" title="SoupContentSniffer"><span class="type">SoupContentSniffer</span></a> feature is enabled, and the
sniffer decided to perform sniffing, the first <code class="literal">got_chunk</code>
emission may be delayed, so that the sniffer has enough
data to correctly sniff the content. It notified the
library user that the content has been sniffed, and allows
it to change the header contents in the message, if
desired.
</p>
<p>
After this signal is emitted, the data that was spooled so
that sniffing could be done is delivered on the first
emission of <code class="literal">got_chunk</code>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>msg</code></em> :</span></p></td>
<td>the message
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>type</code></em> :</span></p></td>
<td>the content type that we got from sniffing
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>params</code></em> :</span></p></td>
<td> a <span class="type">GHashTable</span> with the parameters. <span class="annotation">[<acronym title="Generics and defining elements of containers and arrays."><span class="acronym">element-type</span></acronym> utf8 utf8]</span>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 2.27.3</p>
</div>
<hr>
<div class="refsect2" title='The "finished" signal'>
<a name="SoupMessage-finished"></a><h3>The <code class="literal">"finished"</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                user_function                      (<a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg,
                                                        <span class="type">gpointer</span>     user_data)      : Run First</pre>
<p>
Emitted when all HTTP processing is finished for a message.
(After <a class="link" href="SoupMessage.html#SoupMessage-got-body" title='The "got-body" signal'><span class="type">"got_body"</span></a> for client-side messages, or
after <a class="link" href="SoupMessage.html#SoupMessage-wrote-body" title='The "wrote-body" signal'><span class="type">"wrote_body"</span></a> for server-side messages.)
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>msg</code></em> :</span></p></td>
<td>the message
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title='The "got-body" signal'>
<a name="SoupMessage-got-body"></a><h3>The <code class="literal">"got-body"</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                user_function                      (<a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg,
                                                        <span class="type">gpointer</span>     user_data)      : Run First</pre>
<p>
Emitted after receiving the complete message body. (For a
server-side message, this means it has received the request
body. For a client-side message, this means it has received
the response body and is nearly done with the message.)
</p>
<p>
See also <a class="link" href="SoupMessage.html#soup-message-add-header-handler" title="soup_message_add_header_handler ()"><code class="function">soup_message_add_header_handler()</code></a> and
<a class="link" href="SoupMessage.html#soup-message-add-status-code-handler" title="soup_message_add_status_code_handler ()"><code class="function">soup_message_add_status_code_handler()</code></a>, which can be used
to connect to a subset of emissions of this signal.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>msg</code></em> :</span></p></td>
<td>the message
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title='The "got-chunk" signal'>
<a name="SoupMessage-got-chunk"></a><h3>The <code class="literal">"got-chunk"</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                user_function                      (<a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg,
                                                        <a class="link" href="libsoup-2.4-SoupMessageBody.html#SoupBuffer" title="SoupBuffer"><span class="type">SoupBuffer</span></a>  *chunk,
                                                        <span class="type">gpointer</span>     user_data)      : Run First</pre>
<p>
Emitted after receiving a chunk of a message body. Note
that "chunk" in this context means any subpiece of the
body, not necessarily the specific HTTP 1.1 chunks sent by
the other side.
</p>
<p>
If you cancel or requeue <em class="parameter"><code>msg</code></em> while processing this signal,
then the current HTTP I/O will be stopped after this signal
emission finished, and <em class="parameter"><code>msg</code></em>'s connection will be closed.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>msg</code></em> :</span></p></td>
<td>the message
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>chunk</code></em> :</span></p></td>
<td>the just-read chunk
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title='The "got-headers" signal'>
<a name="SoupMessage-got-headers"></a><h3>The <code class="literal">"got-headers"</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                user_function                      (<a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg,
                                                        <span class="type">gpointer</span>     user_data)      : Run First</pre>
<p>
Emitted after receiving all message headers for a message.
(For a client-side message, this is after receiving the
Status-Line and response headers; for a server-side
message, it is after receiving the Request-Line and request
headers.)
</p>
<p>
See also <a class="link" href="SoupMessage.html#soup-message-add-header-handler" title="soup_message_add_header_handler ()"><code class="function">soup_message_add_header_handler()</code></a> and
<a class="link" href="SoupMessage.html#soup-message-add-status-code-handler" title="soup_message_add_status_code_handler ()"><code class="function">soup_message_add_status_code_handler()</code></a>, which can be used
to connect to a subset of emissions of this signal.
</p>
<p>
If you cancel or requeue <em class="parameter"><code>msg</code></em> while processing this signal,
then the current HTTP I/O will be stopped after this signal
emission finished, and <em class="parameter"><code>msg</code></em>'s connection will be closed.
(If you need to requeue a message--eg, after handling
authentication or redirection--it is usually better to
requeue it from a <a class="link" href="SoupMessage.html#SoupMessage-got-body" title='The "got-body" signal'><span class="type">"got_body"</span></a> handler rather
than a <span class="type">"got_header"</span> handler, so that the
existing HTTP connection can be reused.)
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>msg</code></em> :</span></p></td>
<td>the message
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title='The "got-informational" signal'>
<a name="SoupMessage-got-informational"></a><h3>The <code class="literal">"got-informational"</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                user_function                      (<a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg,
                                                        <span class="type">gpointer</span>     user_data)      : Run First</pre>
<p>
Emitted after receiving a 1xx (Informational) response for
a (client-side) message. The response_headers will be
filled in with the headers associated with the
informational response; however, those header values will
be erased after this signal is done.
</p>
<p>
If you cancel or requeue <em class="parameter"><code>msg</code></em> while processing this signal,
then the current HTTP I/O will be stopped after this signal
emission finished, and <em class="parameter"><code>msg</code></em>'s connection will be closed.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>msg</code></em> :</span></p></td>
<td>the message
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title='The "restarted" signal'>
<a name="SoupMessage-restarted"></a><h3>The <code class="literal">"restarted"</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                user_function                      (<a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg,
                                                        <span class="type">gpointer</span>     user_data)      : Run First</pre>
<p>
Emitted when a request that was already sent once is now
being sent again (eg, because the first attempt received a
redirection response, or because we needed to use
authentication).
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>msg</code></em> :</span></p></td>
<td>the message
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title='The "wrote-body" signal'>
<a name="SoupMessage-wrote-body"></a><h3>The <code class="literal">"wrote-body"</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                user_function                      (<a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg,
                                                        <span class="type">gpointer</span>     user_data)      : Run First</pre>
<p>
Emitted immediately after writing the complete body for a
message. (For a client-side message, this means that
libsoup is done writing and is now waiting for the response
from the server. For a server-side message, this means that
libsoup has finished writing the response and is nearly
done with the message.)
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>msg</code></em> :</span></p></td>
<td>the message
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title='The "wrote-body-data" signal'>
<a name="SoupMessage-wrote-body-data"></a><h3>The <code class="literal">"wrote-body-data"</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                user_function                      (<a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg,
                                                        <a class="link" href="libsoup-2.4-SoupMessageBody.html#SoupBuffer" title="SoupBuffer"><span class="type">SoupBuffer</span></a>  *chunk,
                                                        <span class="type">gpointer</span>     user_data)      : Run First</pre>
<p>
Emitted immediately after writing a portion of the message
body to the network.
</p>
<p>
Unlike <a class="link" href="SoupMessage.html#SoupMessage-wrote-chunk" title='The "wrote-chunk" signal'><span class="type">"wrote_chunk"</span></a>, this is emitted after
every successful <code class="function">write()</code> call, not only after finishing a
complete "chunk".
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>msg</code></em> :</span></p></td>
<td>the message
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>chunk</code></em> :</span></p></td>
<td>the data written
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
<p class="since">Since 2.4.1</p>
</div>
<hr>
<div class="refsect2" title='The "wrote-chunk" signal'>
<a name="SoupMessage-wrote-chunk"></a><h3>The <code class="literal">"wrote-chunk"</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                user_function                      (<a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg,
                                                        <span class="type">gpointer</span>     user_data)      : Run First</pre>
<p>
Emitted immediately after writing a body chunk for a message.
</p>
<p>
Note that this signal is not parallel to
<a class="link" href="SoupMessage.html#SoupMessage-got-chunk" title='The "got-chunk" signal'><span class="type">"got_chunk"</span></a>; it is emitted only when a complete
chunk (added with <a class="link" href="libsoup-2.4-SoupMessageBody.html#soup-message-body-append" title="soup_message_body_append ()"><code class="function">soup_message_body_append()</code></a> or
<a class="link" href="libsoup-2.4-SoupMessageBody.html#soup-message-body-append-buffer" title="soup_message_body_append_buffer ()"><code class="function">soup_message_body_append_buffer()</code></a>) has been written. To get
more useful continuous progress information, use
<a class="link" href="SoupMessage.html#SoupMessage-wrote-body-data" title='The "wrote-body-data" signal'><span class="type">"wrote_body_data"</span></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>msg</code></em> :</span></p></td>
<td>the message
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title='The "wrote-headers" signal'>
<a name="SoupMessage-wrote-headers"></a><h3>The <code class="literal">"wrote-headers"</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                user_function                      (<a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg,
                                                        <span class="type">gpointer</span>     user_data)      : Run First</pre>
<p>
Emitted immediately after writing the headers for a
message. (For a client-side message, this is after writing
the request headers; for a server-side message, it is after
writing the response headers.)
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>msg</code></em> :</span></p></td>
<td>the message
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" title='The "wrote-informational" signal'>
<a name="SoupMessage-wrote-informational"></a><h3>The <code class="literal">"wrote-informational"</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                user_function                      (<a class="link" href="SoupMessage.html" title="SoupMessage"><span class="type">SoupMessage</span></a> *msg,
                                                        <span class="type">gpointer</span>     user_data)      : Run First</pre>
<p>
Emitted immediately after writing a 1xx (Informational)
response for a (server-side) message.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>msg</code></em> :</span></p></td>
<td>the message
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em> :</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div class="refsect1" title="See Also">
<a name="SoupMessage.see-also"></a><h2>See Also</h2>
<a class="link" href="libsoup-2.4-SoupMessageHeaders.html#SoupMessageHeaders" title="SoupMessageHeaders"><span class="type">SoupMessageHeaders</span></a>, <a class="link" href="libsoup-2.4-SoupMessageBody.html#SoupMessageBody" title="SoupMessageBody"><span class="type">SoupMessageBody</span></a>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.15</div>
</body>
</html>